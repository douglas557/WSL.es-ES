---
title: Comparación de WSL 2 con WSL 1
description: 'Compare la versión 1 y la versión 2 del Subsistema de Windows para Linux. Conozca las novedades de WSL 2: kernel de Linux real, velocidad más rápida, compatibilidad completa con las llamadas del sistema. WSL 1 funciona mejor si almacena archivos en los sistemas de archivos operativos. Puede ampliar el tamaño del disco de hardware virtual (VHD) de WSL 2.'
keywords: BashOnWindows, bash, wsl, windows, subsistemawindows, gnu, linux, ubuntu, debian, suse, windows 10, cambios en la experiencia de usuario, WSL 2, kernel de linux, aplicaciones de red, localhost, IPv6, disco de hardware virtual, VHD, limitaciones de VHD, error de VHD
ms.date: 09/15/2020
ms.topic: conceptual
ms.localizationpriority: high
ms.custom: contperfq1
ms.openlocfilehash: 5aa37c632fe1e02680bdef307a5923d05dfb3f60
ms.sourcegitcommit: b15b847b87d29a40de4a1517315949bce9c7a3d5
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 09/28/2020
ms.locfileid: "91413126"
---
# <a name="comparing-wsl-1-and-wsl-2"></a><span data-ttu-id="e2110-107">Comparación de WSL 1 con WSL 2</span><span class="sxs-lookup"><span data-stu-id="e2110-107">Comparing WSL 1 and WSL 2</span></span>

<span data-ttu-id="e2110-108">La diferencia y los motivos principales para actualizar el Subsistema de Windows para Linux de WSL 1 a WSL 2 son:</span><span class="sxs-lookup"><span data-stu-id="e2110-108">The primary difference and reasons for updating the Windows Subsystem for Linux from WSL 1 to WSL 2 are to:</span></span>

- <span data-ttu-id="e2110-109">**Aumento del rendimiento del sistema de archivos**.</span><span class="sxs-lookup"><span data-stu-id="e2110-109">**increase file system performance**,</span></span>
- <span data-ttu-id="e2110-110">**Compatibilidad completa con las llamadas del sistema**.</span><span class="sxs-lookup"><span data-stu-id="e2110-110">**support full system call compatibility**.</span></span>

<span data-ttu-id="e2110-111">WSL 2 usa la tecnología de virtualización más reciente y óptima para ejecutar un kernel de Linux en una máquina virtual (VM) de utilidad ligera.</span><span class="sxs-lookup"><span data-stu-id="e2110-111">WSL 2 uses the latest and greatest in virtualization technology to run a Linux kernel inside of a lightweight utility virtual machine (VM).</span></span> <span data-ttu-id="e2110-112">Sin embargo, WSL 2 no es una experiencia de VM tradicional.</span><span class="sxs-lookup"><span data-stu-id="e2110-112">However, WSL 2 is not a traditional VM experience.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="e2110-113">Instalación de WSL 1 y actualización a WSL 2</span><span class="sxs-lookup"><span data-stu-id="e2110-113">Install WSL 1 and update to WSL 2</span></span>](install-win10.md)

## <a name="comparing-features"></a><span data-ttu-id="e2110-114">Comparación de características</span><span class="sxs-lookup"><span data-stu-id="e2110-114">Comparing features</span></span>

<span data-ttu-id="e2110-115">Característica</span><span class="sxs-lookup"><span data-stu-id="e2110-115">Feature</span></span> | <span data-ttu-id="e2110-116">WSL 1</span><span class="sxs-lookup"><span data-stu-id="e2110-116">WSL 1</span></span> | <span data-ttu-id="e2110-117">WSL 2</span><span class="sxs-lookup"><span data-stu-id="e2110-117">WSL 2</span></span>
--- | --- | ---
 <span data-ttu-id="e2110-118">Integración entre Windows y Linux</span><span class="sxs-lookup"><span data-stu-id="e2110-118">Integration between Windows and Linux</span></span>| ✅|✅
 <span data-ttu-id="e2110-119">Tiempos de arranque rápidos</span><span class="sxs-lookup"><span data-stu-id="e2110-119">Fast boot times</span></span>| ✅ | ✅
 <span data-ttu-id="e2110-120">Superficie de recursos pequeña</span><span class="sxs-lookup"><span data-stu-id="e2110-120">Small resource foot print</span></span>| ✅ |✅
 <span data-ttu-id="e2110-121">Se ejecuta con las versiones actuales de VMWare y VirtualBox</span><span class="sxs-lookup"><span data-stu-id="e2110-121">Runs with current versions of VMware and VirtualBox</span></span>| ✅ | ✅
 <span data-ttu-id="e2110-122">VM administradas</span><span class="sxs-lookup"><span data-stu-id="e2110-122">Managed VM</span></span>| ❌ | ✅
 <span data-ttu-id="e2110-123">Kernel de Linux completo</span><span class="sxs-lookup"><span data-stu-id="e2110-123">Full Linux Kernel</span></span>| ❌ |✅
 <span data-ttu-id="e2110-124">Compatibilidad completa con las llamadas del sistema</span><span class="sxs-lookup"><span data-stu-id="e2110-124">Full system call compatibility</span></span>| ❌ | ✅
 <span data-ttu-id="e2110-125">Rendimiento entre sistemas de archivos del sistema operativo</span><span class="sxs-lookup"><span data-stu-id="e2110-125">Performance across OS file systems</span></span>| ✅ | ❌

<span data-ttu-id="e2110-126">Como puede ver en la tabla de comparación anterior, la arquitectura de WSL 2 supera a la de WSL 1 de varias maneras, con la excepción del rendimiento en los sistemas de archivos del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e2110-126">As you can tell from the comparison table above, the WSL 2 architecture outperforms WSL 1 in several ways, with the exception of performance across OS file systems.</span></span>

## <a name="performance-across-os-file-systems"></a><span data-ttu-id="e2110-127">Rendimiento entre sistemas de archivos del sistema operativo</span><span class="sxs-lookup"><span data-stu-id="e2110-127">Performance across OS file systems</span></span>

<span data-ttu-id="e2110-128">Se recomienda no trabajar en los sistemas operativos con los archivos, a menos que tenga una razón específica para hacerlo.</span><span class="sxs-lookup"><span data-stu-id="e2110-128">We recommend against working across operating systems with your files, unless you have a specific reason for doing so.</span></span> <span data-ttu-id="e2110-129">Para lograr la máxima velocidad de rendimiento, almacene los archivos en el sistema de archivos de WSL si está trabajando en una línea de comandos de Linux (Ubuntu, OpenSUSE, etc.).</span><span class="sxs-lookup"><span data-stu-id="e2110-129">For the fastest performance speed, store your files in the WSL file system if you are working in a Linux command line (Ubuntu, OpenSUSE, etc).</span></span> <span data-ttu-id="e2110-130">Si trabaja en una línea de comandos de Windows (PowerShell, símbolo del sistema), almacene los archivos en el sistema de archivos de Windows.</span><span class="sxs-lookup"><span data-stu-id="e2110-130">If you're working in a Windows command line (PowerShell, Command Prompt), store your files in the Windows file system.</span></span>

<span data-ttu-id="e2110-131">Por ejemplo, al almacenar los archivos de proyecto de WSL, haz lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e2110-131">For example, when storing your WSL project files:</span></span>

- <span data-ttu-id="e2110-132">Usa el directorio raíz del sistema de archivos de Linux: `\\wsl$\Ubuntu-18.04\home\<user name>\Project`</span><span class="sxs-lookup"><span data-stu-id="e2110-132">Use the Linux file system root directory: `\\wsl$\Ubuntu-18.04\home\<user name>\Project`</span></span>
- <span data-ttu-id="e2110-133">No uses el directorio raíz del sistema de archivos de Windows: `C:\Users\<user name>\Project`</span><span class="sxs-lookup"><span data-stu-id="e2110-133">Not the Windows file system root directory: `C:\Users\<user name>\Project`</span></span>

<span data-ttu-id="e2110-134">Puedes acceder al sistema de archivos raíz de Linux con las aplicaciones y herramientas de Windows, como el Explorador de archivos.</span><span class="sxs-lookup"><span data-stu-id="e2110-134">You can access your Linux root file system with Windows apps and tools like File Explorer.</span></span> <span data-ttu-id="e2110-135">Intenta abrir una distribución de Linux (como Ubuntu). Para asegurarte de que estás en el directorio principal de Linux, escribe este comando: `cd ~`.</span><span class="sxs-lookup"><span data-stu-id="e2110-135">Try opening a Linux distribution (like Ubuntu), be sure that you are in the Linux home directory by entering this command: `cd ~`.</span></span> <span data-ttu-id="e2110-136">Después, abre el sistema de archivos de Linux en el Explorador de archivos. Para ello, escribe *(no olvides el punto al final)* : `explorer.exe .`</span><span class="sxs-lookup"><span data-stu-id="e2110-136">Then open your Linux file system in File Explorer by entering *(don't forget the period at the end)*: `explorer.exe .`</span></span>

<span data-ttu-id="e2110-137">WSL 2 solo está disponible en Windows 10, versión 1903, compilación 18362 o superior.</span><span class="sxs-lookup"><span data-stu-id="e2110-137">WSL 2 is only available in Windows 10, Version 1903, Build 18362 or higher.</span></span> <span data-ttu-id="e2110-138">Para comprobar la versión de Windows, selecciona la **tecla del logotipo de Windows + R**, escribe **winver** y selecciona **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="e2110-138">Check your Windows version by selecting the **Windows logo key + R**, type **winver**, select **OK**.</span></span> <span data-ttu-id="e2110-139">(También puedes escribir el comando `ver` en el símbolo del sistema de Windows).</span><span class="sxs-lookup"><span data-stu-id="e2110-139">(Or enter the `ver` command in Windows Command Prompt).</span></span> <span data-ttu-id="e2110-140">Es posible que tengas que [actualizar a la versión más reciente de Windows](ms-settings:windowsupdate).</span><span class="sxs-lookup"><span data-stu-id="e2110-140">You may need to [update to the latest Windows version](ms-settings:windowsupdate).</span></span> <span data-ttu-id="e2110-141">En el caso de las compilaciones inferiores a 18362, no se admite WSL en absoluto.</span><span class="sxs-lookup"><span data-stu-id="e2110-141">For builds lower than 18362, WSL is not supported at all.</span></span>

> [!NOTE]
> <span data-ttu-id="e2110-142">WSL 2 funcionará con [VMWare 15.5.5 y versiones posteriores](https://blogs.vmware.com/workstation/2020/05/vmware-workstation-now-supports-hyper-v-mode.html) y [VirtualBox 6 y versiones posteriores](https://www.virtualbox.org/wiki/Changelog-6.0).</span><span class="sxs-lookup"><span data-stu-id="e2110-142">WSL 2 will work with [VMware 15.5.5+](https://blogs.vmware.com/workstation/2020/05/vmware-workstation-now-supports-hyper-v-mode.html) and [VirtualBox 6+](https://www.virtualbox.org/wiki/Changelog-6.0).</span></span> <span data-ttu-id="e2110-143">Obtenga más información en las [preguntas más frecuentes sobre WSL 2](./wsl2-faq.md#will-i-be-able-to-run-wsl-2-and-other-3rd-party-virtualization-tools-such-as-vmware-or-virtualbox).</span><span class="sxs-lookup"><span data-stu-id="e2110-143">Learn more in our [WSL 2 FAQs.](./wsl2-faq.md#will-i-be-able-to-run-wsl-2-and-other-3rd-party-virtualization-tools-such-as-vmware-or-virtualbox)</span></span>

## <a name="whats-new-in-wsl-2"></a><span data-ttu-id="e2110-144">Novedades de WSL 2</span><span class="sxs-lookup"><span data-stu-id="e2110-144">Whats new in WSL 2</span></span>

<span data-ttu-id="e2110-145">WSL 2 es una revisión importante de la arquitectura subyacente y usa tecnología de virtualización y un kernel de Linux para habilitar las nuevas características.</span><span class="sxs-lookup"><span data-stu-id="e2110-145">WSL 2 is a major overhaul of the underlying architecture and uses virtualization technology and a Linux kernel to enable new features.</span></span> <span data-ttu-id="e2110-146">Los principales objetivos de esta actualización son aumentar el rendimiento del sistema de archivos y agregar compatibilidad completa con las llamadas del sistema.</span><span class="sxs-lookup"><span data-stu-id="e2110-146">The primary goals of this update are to increase file system performance and add full system call compatibility.</span></span>

- [<span data-ttu-id="e2110-147">Requisitos del sistema de VSL 2</span><span class="sxs-lookup"><span data-stu-id="e2110-147">WSL 2 system requirements</span></span>](./install-win10.md#step-2---update-to-wsl-2)
- [<span data-ttu-id="e2110-148">Actualización de WSL 1 a WSL 2</span><span class="sxs-lookup"><span data-stu-id="e2110-148">Update from WSL 1 to WSL 2</span></span>](./install-win10.md#step-2---update-to-wsl-2)
- [<span data-ttu-id="e2110-149">Preguntas más frecuentes sobre WSL 2</span><span class="sxs-lookup"><span data-stu-id="e2110-149">Frequently Asked Questions about WSL 2</span></span>](./wsl2-faq.md)

### <a name="wsl-2-architecture"></a><span data-ttu-id="e2110-150">Arquitectura de WSL 2</span><span class="sxs-lookup"><span data-stu-id="e2110-150">WSL 2 architecture</span></span>

<span data-ttu-id="e2110-151">Una experiencia de VM tradicional puede presentar un arranque lento, aislamiento y un consumo excesivo de recursos, además de exigir tiempo para su administración.</span><span class="sxs-lookup"><span data-stu-id="e2110-151">A traditional VM experience can be slow to boot up, is isolated, consumes a lot of resources, and requires your time to manage it.</span></span> <span data-ttu-id="e2110-152">WSL 2 no tiene estos atributos.</span><span class="sxs-lookup"><span data-stu-id="e2110-152">WSL 2 does not have these attributes.</span></span>

<span data-ttu-id="e2110-153">WSL 2 ofrece las ventajas de WSL 1, incluida una integración perfecta entre Windows y Linux, tiempos de arranque más breves y una superficie de recursos pequeña. Además, no requiere ninguna configuración ni administración de las VM.</span><span class="sxs-lookup"><span data-stu-id="e2110-153">WSL 2 provides the benefits of WSL 1, including seamless integration between Windows and Linux, fast boot times, a small resource footprint, and requires no VM configuration or management.</span></span> <span data-ttu-id="e2110-154">Aunque WSL 2 usa una VM, se administra y se ejecuta en segundo plano, lo que te permite disfrutar de la misma experiencia de usuario que WSL 1.</span><span class="sxs-lookup"><span data-stu-id="e2110-154">While WSL 2 does use a VM, it is managed and run behind the scenes, leaving you with the same user experience as WSL 1.</span></span>

### <a name="full-linux-kernel"></a><span data-ttu-id="e2110-155">Kernel de Linux completo</span><span class="sxs-lookup"><span data-stu-id="e2110-155">Full Linux kernel</span></span>

<span data-ttu-id="e2110-156">Microsoft ha creado el kernel de Linux en WSL 2 a partir de la rama estable más reciente. Para ello, se basó en el origen disponible en kernel.org. Este kernel se ha ajustado especialmente para WSL 2, y se ha optimizado su tamaño y rendimiento para ofrecer una increíble experiencia de Linux en Windows.</span><span class="sxs-lookup"><span data-stu-id="e2110-156">The Linux kernel in WSL 2 is built by Microsoft from the latest stable branch, based on the source available at kernel.org. This kernel has been specially tuned for WSL 2, optimizing for size and performance to provide an amazing Linux experience on Windows.</span></span> <span data-ttu-id="e2110-157">El kernel recibirá actualizaciones de Windows, lo que significa que obtendrás las correcciones de seguridad y las mejoras del kernel más recientes sin que debas administrarlo por tu cuenta.</span><span class="sxs-lookup"><span data-stu-id="e2110-157">The kernel will be serviced by Windows updates, which means you will get the latest security fixes and kernel improvements without needing to manage it yourself.</span></span>

<span data-ttu-id="e2110-158">El [kernel de Linux para WSL 2 es de código abierto](https://github.com/microsoft/WSL2-Linux-Kernel).</span><span class="sxs-lookup"><span data-stu-id="e2110-158">The [WSL 2 Linux kernel is open source](https://github.com/microsoft/WSL2-Linux-Kernel).</span></span> <span data-ttu-id="e2110-159">Si quieres obtener más información, consulta la entrada de blog [Envío de un kernel de Linux con Windows](https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/), escrita por el equipo que lo creó.</span><span class="sxs-lookup"><span data-stu-id="e2110-159">If you'd like to learn more, check out the blog post [Shipping a Linux Kernel with Windows](https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/) written by the team that built it.</span></span>

### <a name="increased-file-io-performance"></a><span data-ttu-id="e2110-160">Mayor rendimiento de E/S de archivos</span><span class="sxs-lookup"><span data-stu-id="e2110-160">Increased file IO performance</span></span>

<span data-ttu-id="e2110-161">Las operaciones de uso intensivo de archivos, como git clone, npm install, apt update, apt upgrade y otras, son considerablemente más rápidas con WSL 2.</span><span class="sxs-lookup"><span data-stu-id="e2110-161">File intensive operations like git clone, npm install, apt update, apt upgrade, and more are all noticeably faster with WSL 2.</span></span>

<span data-ttu-id="e2110-162">El aumento de la velocidad real dependerá de la aplicación que se esté ejecutando y de cómo interactúes con el sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="e2110-162">The actual speed increase will depend on which app you're running and how it is interacting with the file system.</span></span> <span data-ttu-id="e2110-163">Las versiones iniciales de WSL 2 se ejecutan hasta 20 veces más rápido en comparación con WSL 1 al desempaquetar un archivo tarball comprimido, y aproximadamente entre 2y 5 veces más rápido cuando se usan git clone, npm install y cmake en distintos proyectos.</span><span class="sxs-lookup"><span data-stu-id="e2110-163">Initial versions of WSL 2 run up to 20x faster compared to WSL 1 when unpacking a zipped tarball, and around 2-5x faster when using git clone, npm install and cmake on various projects.</span></span>

### <a name="full-system-call-compatibility"></a><span data-ttu-id="e2110-164">Compatibilidad completa con las llamadas del sistema</span><span class="sxs-lookup"><span data-stu-id="e2110-164">Full system call compatibility</span></span>

<span data-ttu-id="e2110-165">Los archivos binarios de Linux usan llamadas del sistema para ejecutar funciones, como el acceso a archivos, la solicitud de memoria, la creación de procesos, etc.</span><span class="sxs-lookup"><span data-stu-id="e2110-165">Linux binaries use system calls to perform functions such as accessing files, requesting memory, creating processes, and more.</span></span> <span data-ttu-id="e2110-166">Mientras que WSL 1 usaba una capa de traducción creada por el equipo de WSL, WSL 2 incluye su propio kernel de Linux con total compatibilidad con las llamadas del sistema.</span><span class="sxs-lookup"><span data-stu-id="e2110-166">Whereas WSL 1 used a translation layer that was built by the WSL team, WSL 2 includes its own Linux kernel with full system call compatibility.</span></span> <span data-ttu-id="e2110-167">Entre las ventajas se incluyen las siguientes:</span><span class="sxs-lookup"><span data-stu-id="e2110-167">Benefits include:</span></span>

- <span data-ttu-id="e2110-168">Un conjunto de aplicaciones nuevo y completo que se pueden ejecutar en WSL, como **[Docker](tutorials/wsl-containers.md)** , entre otros.</span><span class="sxs-lookup"><span data-stu-id="e2110-168">A whole new set of apps that you can run inside of WSL, such as **[Docker](tutorials/wsl-containers.md)** and more.</span></span>

- <span data-ttu-id="e2110-169">Todas las actualizaciones del kernel de Linux están listas para su uso inmediato.</span><span class="sxs-lookup"><span data-stu-id="e2110-169">Any updates to the Linux kernel are immediately ready for use.</span></span> <span data-ttu-id="e2110-170">(No tienes que esperar a que el equipo de WSL implemente actualizaciones y agregue los cambios).</span><span class="sxs-lookup"><span data-stu-id="e2110-170">(You don't have to wait for the WSL team to implement updates and add the changes).</span></span>

### <a name="wsl-2-uses-a-smaller-amount-of-memory-on-startup"></a><span data-ttu-id="e2110-171">WSL 2 usa una cantidad menor de memoria en el inicio</span><span class="sxs-lookup"><span data-stu-id="e2110-171">WSL 2 uses a smaller amount of memory on startup</span></span>

<span data-ttu-id="e2110-172">WSL 2 usa una VM de utilidad ligera en un kernel de Linux real con una superficie de memoria pequeña.</span><span class="sxs-lookup"><span data-stu-id="e2110-172">WSL 2 uses a lightweight utility VM on a real Linux kernel with a small memory footprint.</span></span> <span data-ttu-id="e2110-173">La utilidad asignará memoria respaldada por direcciones virtuales al iniciarse.</span><span class="sxs-lookup"><span data-stu-id="e2110-173">The utility will allocate Virtual Address backed memory on startup.</span></span> <span data-ttu-id="e2110-174">Está configurada para empezar con una pequeña proporción de la memoria total que se necesitaba para WSL 1.</span><span class="sxs-lookup"><span data-stu-id="e2110-174">It is configured to start with a smaller proportion of your total memory that what was required for WSL 1.</span></span>

## <a name="exceptions-for-using-wsl-1-rather-than-wsl-2"></a><span data-ttu-id="e2110-175">Excepciones para usar WSL 1 en lugar de WSL 2</span><span class="sxs-lookup"><span data-stu-id="e2110-175">Exceptions for using WSL 1 rather than WSL 2</span></span>

<span data-ttu-id="e2110-176">Te recomendamos que uses WSL 2, ya que ofrece un rendimiento mayor y compatibilidad completa con las llamadas del sistema.</span><span class="sxs-lookup"><span data-stu-id="e2110-176">We recommend that you use WSL 2 as it offers faster performance and 100% system call compatibility.</span></span> <span data-ttu-id="e2110-177">Sin embargo, hay algunos escenarios específicos en los que podrías preferir el uso de WSL 1.</span><span class="sxs-lookup"><span data-stu-id="e2110-177">However, there are a few specific scenarios where you might prefer using WSL 1.</span></span> <span data-ttu-id="e2110-178">Considera el uso de WSL 1 en los casos siguientes:</span><span class="sxs-lookup"><span data-stu-id="e2110-178">Consider using WSL 1 if:</span></span>

- <span data-ttu-id="e2110-179">Los archivos de proyecto se deben almacenar en el sistema de archivos de Windows.</span><span class="sxs-lookup"><span data-stu-id="e2110-179">Your project files must be stored in the Windows file system.</span></span> <span data-ttu-id="e2110-180">WSL 1 ofrece un acceso más rápido a los archivos montados desde Windows.</span><span class="sxs-lookup"><span data-stu-id="e2110-180">WSL 1 offers faster access to files mounted from Windows.</span></span>
  - <span data-ttu-id="e2110-181">Si vas a usar tu distribución de WSL para Linux para acceder a los archivos de proyecto en el sistema de archivos de Windows, y estos archivos no se pueden almacenar en el sistema de archivos de Linux, obtendrás un mayor rendimiento en los sistemas de archivos del sistema operativo mediante WSL 1.</span><span class="sxs-lookup"><span data-stu-id="e2110-181">If you will be using your WSL Linux distribution to access project files on the Windows file system, and these files cannot be stored on the Linux file system, you will achieve faster performance across the OS files systems by using WSL 1.</span></span>
- <span data-ttu-id="e2110-182">Un proyecto requiere la compilación cruzada con las herramientas de Windows y Linux en los mismos archivos.</span><span class="sxs-lookup"><span data-stu-id="e2110-182">A project which requires cross-compilation using both Windows and Linux tools on the same files.</span></span>
  - <span data-ttu-id="e2110-183">El rendimiento de los archivos en los sistemas operativos Windows y Linux es mayor en WSL 1 que en WSL 2, por lo que, si usas aplicaciones Windows para acceder a archivos de Linux, obtendrás un mayor rendimiento con WSL 1.</span><span class="sxs-lookup"><span data-stu-id="e2110-183">File performance across the Windows and Linux operating systems is faster in WSL 1 than WSL 2, so if you are using Windows applications to access Linux files, you will currently achieve faster performance with WSL 1.</span></span>

> [!NOTE]
> <span data-ttu-id="e2110-184">Considera la posibilidad de probar la [extensión Remote WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl) de VS Code para poder almacenar los archivos de proyecto en el sistema de archivos de Linux, mediante las herramientas de línea de comandos de Linux, pero también con VS Code en Windows para crear, editar, depurar o ejecutar el proyecto en un explorador de Internet, sin experimentar las ralentizaciones de rendimiento asociadas con el trabajo en los sistemas de archivos de Windows.</span><span class="sxs-lookup"><span data-stu-id="e2110-184">Consider trying the VS Code [Remote WSL Extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl) to enable you to store your project files on the Linux file system, using Linux command line tools, but also using VS Code on Windows to author, edit, debug, or run your project in an internet browser without any of the performance slow-downs associated with working across the Linux and Windows file systems.</span></span> <span data-ttu-id="e2110-185">[Más información](tutorials/wsl-vscode.md).</span><span class="sxs-lookup"><span data-stu-id="e2110-185">[Learn more](tutorials/wsl-vscode.md).</span></span>

## <a name="accessing-network-applications"></a><span data-ttu-id="e2110-186">Acceso a aplicaciones de red</span><span class="sxs-lookup"><span data-stu-id="e2110-186">Accessing network applications</span></span>

### <a name="accessing-linux-networking-apps-from-windows-localhost"></a><span data-ttu-id="e2110-187">Acceso a las aplicaciones de red de Linux desde Windows (localhost)</span><span class="sxs-lookup"><span data-stu-id="e2110-187">Accessing Linux networking apps from Windows (localhost)</span></span>

<span data-ttu-id="e2110-188">Si vas a crear una aplicación de red (por ejemplo, una aplicación que se ejecute en NodeJS o SQL Server) en la distribución de Linux, puedes acceder a ella desde una aplicación de Windows (como el explorador de Internet Edge o Chrome) mediante `localhost` (como lo harías de manera habitual).</span><span class="sxs-lookup"><span data-stu-id="e2110-188">If you are building a networking app (for example an app running on a NodeJS or SQL server) in your Linux distribution, you can access it from a Windows app (like your Edge or Chrome internet browser) using `localhost` (just like you normally would).</span></span>

<span data-ttu-id="e2110-189">Sin embargo, si ejecutas una versión anterior de Windows (compilación 18945 o anterior), tendrás que obtener la dirección IP de la VM host de Linux (o [actualizar a la versión más reciente de Windows](ms-settings:windowsupdate)).</span><span class="sxs-lookup"><span data-stu-id="e2110-189">However, if you are running an older version of Windows (Build 18945 or less), you will need to get the IP address of the Linux host VM (or [update to the latest Windows version](ms-settings:windowsupdate)).</span></span>

<span data-ttu-id="e2110-190">Para buscar la dirección IP de la máquina virtual que habilita tu distribución de Linux:</span><span class="sxs-lookup"><span data-stu-id="e2110-190">To find the IP address of the virtual machine powering your Linux distribution:</span></span>

- <span data-ttu-id="e2110-191">Desde la distribución de WSL (por ejemplo, Ubuntu), ejecuta el comando: `ip addr`</span><span class="sxs-lookup"><span data-stu-id="e2110-191">From your WSL distribution (ie Ubuntu), run the command: `ip addr`</span></span>
- <span data-ttu-id="e2110-192">Busca la dirección en el valor `inet` de la interfaz `eth0` y cópiala.</span><span class="sxs-lookup"><span data-stu-id="e2110-192">Find and copy the address under the `inet` value of the `eth0` interface.</span></span>
- <span data-ttu-id="e2110-193">Si tienes instalada la herramienta grep, puedes buscarla más fácilmente filtrando el resultado con el comando: `ip addr | grep eth0`</span><span class="sxs-lookup"><span data-stu-id="e2110-193">If you have the grep tool installed, find this more easily by filtering the output with the command: `ip addr | grep eth0`</span></span>
- <span data-ttu-id="e2110-194">Conéctate al servidor de Linux con esta dirección IP.</span><span class="sxs-lookup"><span data-stu-id="e2110-194">Connect to your Linux server using this IP address.</span></span>

<span data-ttu-id="e2110-195">La imagen siguiente muestra un ejemplo con la conexión a un servidor de Node.js mediante el navegador Edge.</span><span class="sxs-lookup"><span data-stu-id="e2110-195">The picture below shows an example of this by connecting to a Node.js server using the Edge browser.</span></span>

![Conexión al servidor de NodeJS con Edge](media/wsl2-network-w2l.jpg)

### <a name="accessing-windows-networking-apps-from-linux-host-ip"></a><span data-ttu-id="e2110-197">Acceso a aplicaciones de red de Windows desde Linux (dirección IP del host)</span><span class="sxs-lookup"><span data-stu-id="e2110-197">Accessing Windows networking apps from Linux (host IP)</span></span>

<span data-ttu-id="e2110-198">Si quieres acceder a una aplicación de red que se ejecuta en Windows (por ejemplo, una aplicación que se ejecuta en NodeJS o SQL Server) desde tu distribución de Linux (por ejemplo, Ubuntu), debes usar la dirección IP de la máquina host.</span><span class="sxs-lookup"><span data-stu-id="e2110-198">If you want to access a networking app running on Windows (for example an app running on a NodeJS or SQL server) from your Linux distribution (ie Ubuntu), then you need to use the IP address of your host machine.</span></span> <span data-ttu-id="e2110-199">Aunque no se trata de un escenario común, puedes seguir estos pasos para que funcione.</span><span class="sxs-lookup"><span data-stu-id="e2110-199">While this is not a common scenario, you can follow these steps to make it work.</span></span>
    - <span data-ttu-id="e2110-200">Para obtener la dirección IP de la máquina host, ejecuta este comando desde la distribución de Linux: `cat /etc/resolv.conf`</span><span class="sxs-lookup"><span data-stu-id="e2110-200">Obtain the IP address of your host machine by running this command from your Linux distribution: `cat /etc/resolv.conf`</span></span>
    - <span data-ttu-id="e2110-201">Copia la dirección IP que sigue al término: `nameserver`.</span><span class="sxs-lookup"><span data-stu-id="e2110-201">Copy the IP address following the term: `nameserver`.</span></span>
    - <span data-ttu-id="e2110-202">Conéctate a cualquier servidor de Windows con la dirección IP copiada.</span><span class="sxs-lookup"><span data-stu-id="e2110-202">Connect to any Windows server using the copied IP address.</span></span>

<span data-ttu-id="e2110-203">La imagen siguiente muestra un ejemplo con la conexión a un servidor de Node.js que se ejecuta en Windows a través de curl.</span><span class="sxs-lookup"><span data-stu-id="e2110-203">The picture below shows an example of this by connecting to a Node.js server running in Windows via curl.</span></span>

![Conexión al servidor de NodeJS en Windows a través de cURL](media/wsl2-network-l2w.png)

### <a name="additional-networking-considerations"></a><span data-ttu-id="e2110-205">Consideraciones adicionales sobre redes</span><span class="sxs-lookup"><span data-stu-id="e2110-205">Additional networking considerations</span></span>

#### <a name="connecting-via-remote-ip-addresses"></a><span data-ttu-id="e2110-206">Conexión a través de direcciones IP remotas</span><span class="sxs-lookup"><span data-stu-id="e2110-206">Connecting via remote IP addresses</span></span>

<span data-ttu-id="e2110-207">Si se usan direcciones IP remotas para conectarse a las aplicaciones, estas se tratarán como conexiones desde la red de área local (LAN).</span><span class="sxs-lookup"><span data-stu-id="e2110-207">When using remote IP addresses to connect to your applications, they will be treated as connections from the Local Area Network (LAN).</span></span> <span data-ttu-id="e2110-208">Esto significa que tendrás que asegurarte de que la aplicación puede aceptar conexiones LAN.</span><span class="sxs-lookup"><span data-stu-id="e2110-208">This means that you will need to make sure your application can accept LAN connections.</span></span>

<span data-ttu-id="e2110-209">Por ejemplo, es posible que tengas que enlazar la aplicación a `0.0.0.0` en lugar de a `127.0.0.1`.</span><span class="sxs-lookup"><span data-stu-id="e2110-209">For example, you may need to bind your application to `0.0.0.0` instead of `127.0.0.1`.</span></span> <span data-ttu-id="e2110-210">En el ejemplo de una aplicación de Python que usa Flask, esto se puede hacer con el comando `app.run(host='0.0.0.0')`.</span><span class="sxs-lookup"><span data-stu-id="e2110-210">In the example of a Python app using Flask, this can be done with the command: `app.run(host='0.0.0.0')`.</span></span> <span data-ttu-id="e2110-211">Ten en cuenta la seguridad al hacer estos cambios, ya que se permitirán las conexiones desde la LAN.</span><span class="sxs-lookup"><span data-stu-id="e2110-211">Please keep security in mind when making these changes as this will allow connections from your LAN.</span></span>

#### <a name="accessing-a-wsl-2-distribution-from-your-local-area-network-lan"></a><span data-ttu-id="e2110-212">Acceso a la distribución de WSL 2 desde la red de área local (LAN)</span><span class="sxs-lookup"><span data-stu-id="e2110-212">Accessing a WSL 2 distribution from your local area network (LAN)</span></span>

<span data-ttu-id="e2110-213">Al usar una distribución de WSL 1, si el equipo está configurado para ser accesible desde la LAN, también se podrá acceder a las aplicaciones que se ejecuten en WSL en la LAN.</span><span class="sxs-lookup"><span data-stu-id="e2110-213">When using a WSL 1 distribution, if your computer was set up to be accessed by your LAN, then applications run in WSL could be accessed on your LAN as well.</span></span>

<span data-ttu-id="e2110-214">Esto no ocurre de forma predeterminada en WSL 2.</span><span class="sxs-lookup"><span data-stu-id="e2110-214">This isn't the default case in WSL 2.</span></span> <span data-ttu-id="e2110-215">WSL 2 tiene un adaptador Ethernet virtualizado con su propia dirección IP única.</span><span class="sxs-lookup"><span data-stu-id="e2110-215">WSL 2 has a virtualized ethernet adapter with its own unique IP address.</span></span> <span data-ttu-id="e2110-216">Actualmente, para habilitar este flujo de trabajo, tendrás que seguir los mismos pasos que para una máquina virtual normal.</span><span class="sxs-lookup"><span data-stu-id="e2110-216">Currently, to enable this workflow you will need to go through the same steps as you would for a regular virtual machine.</span></span> <span data-ttu-id="e2110-217">(Estamos buscando maneras de mejorar esta experiencia).</span><span class="sxs-lookup"><span data-stu-id="e2110-217">(We are looking into ways to improve this experience.)</span></span>

<span data-ttu-id="e2110-218">Este es un ejemplo de un comando de PowerShell para agregar un proxy de puerto que realiza escuchas en el puerto 4000 del host y lo conecta al puerto 4000 de la máquina virtual WSL 2 con la dirección IP 192.168.101.100.</span><span class="sxs-lookup"><span data-stu-id="e2110-218">Here's an example PowerShell command to add a port proxy that listens on port 4000 on the host and connects it to port 4000 to the WSL 2 VM with IP address 192.168.101.100.</span></span>

```powershell
netsh interface portproxy add v4tov4 listenport=4000 listenaddress=0.0.0.0 connectport=4000 connectaddress=192.168.101.100
```

#### <a name="ipv6-access"></a><span data-ttu-id="e2110-219">Acceso IPv6</span><span class="sxs-lookup"><span data-stu-id="e2110-219">IPv6 access</span></span>

<span data-ttu-id="e2110-220">Actualmente, las distribuciones de WSL 2 no pueden acceder a direcciones solo de IPv6.</span><span class="sxs-lookup"><span data-stu-id="e2110-220">WSL 2 distributions currently cannot reach IPv6-only addresses.</span></span> <span data-ttu-id="e2110-221">Estamos trabajando para agregar esta característica.</span><span class="sxs-lookup"><span data-stu-id="e2110-221">We are working on adding this feature.</span></span>

## <a name="expanding-the-size-of-your-wsl-2-virtual-hardware-disk"></a><span data-ttu-id="e2110-222">Ampliación del tamaño del disco de hardware virtual de WSL 2</span><span class="sxs-lookup"><span data-stu-id="e2110-222">Expanding the size of your WSL 2 Virtual Hardware Disk</span></span>

<span data-ttu-id="e2110-223">WSL 2 usa un disco de hardware virtual (VHD) para almacenar los archivos de Linux.</span><span class="sxs-lookup"><span data-stu-id="e2110-223">WSL 2 uses a Virtual Hardware Disk (VHD) to store your Linux files.</span></span> <span data-ttu-id="e2110-224">Si alcanzas su tamaño máximo, puede que tengas que expandirlo.</span><span class="sxs-lookup"><span data-stu-id="e2110-224">If you reach its max size you may need to expand it.</span></span>

<span data-ttu-id="e2110-225">El VHD de WSL 2 usa el sistema de archivos ext4.</span><span class="sxs-lookup"><span data-stu-id="e2110-225">The WSL 2 VHD uses the ext4 file system.</span></span> <span data-ttu-id="e2110-226">Este VHD cambia de tamaño automáticamente para satisfacer tus necesidades de almacenamiento y tiene un tamaño máximo inicial de 256 GB.</span><span class="sxs-lookup"><span data-stu-id="e2110-226">This VHD automatically resizes to meet your storage needs and has an initial maximum size of 256GB.</span></span> <span data-ttu-id="e2110-227">Si tu distribución aumenta de tamaño y supera los 256 GB, verás errores que indicarán que se ha agotado el espacio en disco.</span><span class="sxs-lookup"><span data-stu-id="e2110-227">If your distribution grows in size to be greater than 256GB, you will see errors stating that you've run out of disk space.</span></span> <span data-ttu-id="e2110-228">Para corregir estos errores, puedes ampliar el tamaño del VHD.</span><span class="sxs-lookup"><span data-stu-id="e2110-228">You can fix this error by expanding the VHD size.</span></span>

<span data-ttu-id="e2110-229">Para ampliar el tamaño máximo del VHD más allá de 256 GB:</span><span class="sxs-lookup"><span data-stu-id="e2110-229">To expand your maximum VHD size beyond 256GB:</span></span>

1. <span data-ttu-id="e2110-230">Finaliza todas las instancias de WSL mediante el comando `wsl --shutdown`.</span><span class="sxs-lookup"><span data-stu-id="e2110-230">Terminate all WSL instances using the command: `wsl --shutdown`</span></span>

2. <span data-ttu-id="e2110-231">Busca el nombre del paquete de instalación de la distribución ("PackageFamilyName").</span><span class="sxs-lookup"><span data-stu-id="e2110-231">Find your distribution installation package name ('PackageFamilyName')</span></span>
    - <span data-ttu-id="e2110-232">En PowerShell (en que "distro" es el nombre de tu distribución), escribe el comando siguiente:</span><span class="sxs-lookup"><span data-stu-id="e2110-232">Using PowerShell (where 'distro' is your distribution name) enter the command:</span></span>
    - `Get-AppxPackage -Name "*<distro>*" | Select PackageFamilyName`

3. <span data-ttu-id="e2110-233">Busca el archivo VHD `fullpath` que se usa en tu instalación de WSL 2, que será tu valor de `pathToVHD`:</span><span class="sxs-lookup"><span data-stu-id="e2110-233">Locate the VHD file `fullpath` used by your WSL 2 installation, this will be your `pathToVHD`:</span></span>
     - `%LOCALAPPDATA%\Packages\<PackageFamilyName>\LocalState\<disk>.vhdx`

4. <span data-ttu-id="e2110-234">Cambia el tamaño del VHD de WSL 2 mediante los comandos siguientes:</span><span class="sxs-lookup"><span data-stu-id="e2110-234">Resize your WSL 2 VHD by completing the following commands:</span></span>
   - <span data-ttu-id="e2110-235">Abre el símbolo del sistema de Windows con privilegios de administrador y escribe:</span><span class="sxs-lookup"><span data-stu-id="e2110-235">Open Windows Command Prompt with admin privileges and enter:</span></span>
      - `diskpart`
      - `Select vdisk file="<pathToVHD>"`
      - `expand vdisk maximum="<sizeInMegaBytes>"`

5. <span data-ttu-id="e2110-236">Inicia la distribución de WSL (Ubuntu, por ejemplo).</span><span class="sxs-lookup"><span data-stu-id="e2110-236">Launch your WSL distribution (Ubuntu, for example).</span></span>

6. <span data-ttu-id="e2110-237">Para indicar a WSL que puede expandir el tamaño del sistema de archivos, ejecuta estos comandos desde la línea de comandos de tu distribución de Linux:</span><span class="sxs-lookup"><span data-stu-id="e2110-237">Make WSL aware that it can expand its file system's size by running these commands from your Linux distribution command line:</span></span>
    - `sudo mount -t devtmpfs none /dev`
    - `mount | grep ext4`
    - <span data-ttu-id="e2110-238">Copia el nombre de esta entrada, que tendrá el siguiente aspecto: `/dev/sdXX` (en que la X representa cualquier otro carácter).</span><span class="sxs-lookup"><span data-stu-id="e2110-238">Copy the name of this entry, which will look like: `/dev/sdXX` (with the X representing any other character)</span></span>
    - `sudo resize2fs /dev/sdXX`
    - <span data-ttu-id="e2110-239">Usa el valor que copiaste antes.</span><span class="sxs-lookup"><span data-stu-id="e2110-239">Use the value you copied earlier.</span></span> <span data-ttu-id="e2110-240">También puede que necesites instalar resize2fs: `apt install resize2fs`</span><span class="sxs-lookup"><span data-stu-id="e2110-240">You may also need to install resize2fs: `apt install resize2fs`</span></span>

> [!NOTE]
> <span data-ttu-id="e2110-241">En general, no debes modificar ni mover los archivos relacionados con WSL ubicados en la carpeta AppData mediante herramientas o editores de Windows. Tampoco tienes que acceder a estos archivos.</span><span class="sxs-lookup"><span data-stu-id="e2110-241">In general do not modify, move, or access the WSL related files located inside of your AppData folder using Windows tools or editors.</span></span> <span data-ttu-id="e2110-242">Al hacerlo, podrías dañar tu distribución de Linux.</span><span class="sxs-lookup"><span data-stu-id="e2110-242">Doing so could cause your Linux distribution to become corrupted.</span></span>
