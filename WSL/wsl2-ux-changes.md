---
title: Cambios en la experiencia de usuario entre WSL 1 y WSL 2
description: Cambios en la experiencia de usuario entre WSL 1 y WSL 2
keywords: BashOnWindows, bash, wsl, wsl2, windows, subsistema de windows para linux, subsistemawindows, ubuntu, debian, suse, windows 10
ms.date: 05/30/2019
ms.topic: article
ms.assetid: 7afaeacf-435a-4e58-bff0-a9f0d75b8a51
ms.custom: seodec18
ms.openlocfilehash: a8f298a69acf44f152da626a0ba571f6bba1970c
ms.sourcegitcommit: 07eb5f2e1f4517928165dda4510012599b0d0e1e
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 01/22/2020
ms.locfileid: "76520564"
---
# <a name="user-experience-changes-between-wsl-1-and-wsl-2"></a><span data-ttu-id="94ef1-104">Cambios en la experiencia de usuario entre WSL 1 y WSL 2</span><span class="sxs-lookup"><span data-stu-id="94ef1-104">User Experience Changes Between WSL 1 and WSL 2</span></span>

<span data-ttu-id="94ef1-105">En esta página se explican las diferencias en la experiencia de usuario entre WSL 1 y la versión preliminar de WSL 2.</span><span class="sxs-lookup"><span data-stu-id="94ef1-105">This page goes over the user experience differences between WSL 1 and the WSL 2 preview.</span></span> <span data-ttu-id="94ef1-106">Los principales cambios a tener en cuenta son:</span><span class="sxs-lookup"><span data-stu-id="94ef1-106">The key changes to be aware of are:</span></span>

- <span data-ttu-id="94ef1-107">Deberás colocar los archivos a los que accederán tus aplicaciones de Linux en el sistema de archivos raíz de Linux para acelerar el rendimiento de los archivos.</span><span class="sxs-lookup"><span data-stu-id="94ef1-107">Place files that your Linux apps will access in your Linux root file system for faster file performance speed</span></span>
- <span data-ttu-id="94ef1-108">En las compilaciones iniciales de la versión preliminar de WSL 2, deberás acceder a las aplicaciones de red mediante una dirección IP y no a través de localhost.</span><span class="sxs-lookup"><span data-stu-id="94ef1-108">In initial builds of the WSL 2 preview you will need to access network applications using an IP address and not using localhost</span></span>

<span data-ttu-id="94ef1-109">A continuación se muestra la lista completa de los demás cambios que podrás observar:</span><span class="sxs-lookup"><span data-stu-id="94ef1-109">And below is the full list of other changes that you may notice:</span></span>

- <span data-ttu-id="94ef1-110">WSL 2 usa un [disco de hardware virtual](https://en.wikipedia.org/wiki/VHD_(file_format)) (VHD) para almacenar los archivos y, si alcanzas su tamaño máximo, puede que tengas que expandirlo.</span><span class="sxs-lookup"><span data-stu-id="94ef1-110">WSL 2 uses a [Virtual Hardware Disk](https://en.wikipedia.org/wiki/VHD_(file_format)) (VHD) to store your files and if you reach its max size you may need to expand it</span></span>
- <span data-ttu-id="94ef1-111">Al iniciarse, WSL 2 ahora usará una pequeña proporción de memoria.</span><span class="sxs-lookup"><span data-stu-id="94ef1-111">When starting, WSL 2 will now use a small proportion of memory</span></span>
- <span data-ttu-id="94ef1-112">La velocidad de acceso a archivos entre sistemas operativos será más lenta en las compilaciones iniciales de la versión preliminar.</span><span class="sxs-lookup"><span data-stu-id="94ef1-112">Cross OS file access speed will be slower in initial preview builds</span></span>

## <a name="place-your-linux-files-in-your-linux-root-file-system"></a><span data-ttu-id="94ef1-113">Colocación de los archivos de Linux en el sistema de archivos raíz de Linux</span><span class="sxs-lookup"><span data-stu-id="94ef1-113">Place your Linux files in your Linux root file system</span></span>
<span data-ttu-id="94ef1-114">Asegúrate de colocar los archivos a los que accederás con frecuencia con las aplicaciones de Linux dentro del sistema de archivos raíz de Linux para disfrutar de las ventajas de rendimiento de los archivos.</span><span class="sxs-lookup"><span data-stu-id="94ef1-114">Make sure to put the files that you will be accessing frequently with Linux applications inside of your Linux root file system to enjoy the file performance benefits.</span></span> <span data-ttu-id="94ef1-115">Estos archivos deben estar dentro del sistema de archivos raíz de Linux para acelerar el acceso al sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="94ef1-115">These files have to be inside of the Linux root file system to have faster file system access.</span></span> <span data-ttu-id="94ef1-116">También hemos hecho posible que las aplicaciones de Windows tengan acceso al sistema de archivos raíz de Linux (como el Explorador de archivos.</span><span class="sxs-lookup"><span data-stu-id="94ef1-116">We have also made it possible for Windows apps to access the Linux root file system (like File Explorer!</span></span> <span data-ttu-id="94ef1-117">Intenta ejecutar `explorer.exe .` en el directorio de inicio de tu distribución de Linux y observa lo que sucede), lo que hará que esta transición sea mucho más fácil.</span><span class="sxs-lookup"><span data-stu-id="94ef1-117">Try running: `explorer.exe .` in the home directory of your Linux distro and see what happens) which will make this transition significantly easier.</span></span> 

## <a name="accessing-network-applications"></a><span data-ttu-id="94ef1-118">Acceso a aplicaciones de red</span><span class="sxs-lookup"><span data-stu-id="94ef1-118">Accessing network applications</span></span>
<span data-ttu-id="94ef1-119">En las compilaciones iniciales de la versión preliminar de WSL 2, tendrás que acceder a cualquier servidor de Windows desde Linux mediante la dirección IP del equipo host.</span><span class="sxs-lookup"><span data-stu-id="94ef1-119">In the initial builds of the WSL 2 preview, you will need to access any Windows server from Linux using the IP address of your host machine.</span></span>

### <a name="accessing-windows-applications-from-linux"></a><span data-ttu-id="94ef1-120">Acceso a aplicaciones de Windows desde Linux</span><span class="sxs-lookup"><span data-stu-id="94ef1-120">Accessing Windows applications from Linux</span></span>
<span data-ttu-id="94ef1-121">Para acceder a una aplicación de red de Windows, deberás usar la dirección IP del equipo host.</span><span class="sxs-lookup"><span data-stu-id="94ef1-121">To access a Windows network application you'll need to use the IP address of your host machine.</span></span> <span data-ttu-id="94ef1-122">También puedes hacerlo con el procedimiento siguiente:</span><span class="sxs-lookup"><span data-stu-id="94ef1-122">You can do so with these steps:</span></span>

- <span data-ttu-id="94ef1-123">Ejecuta el comando `cat /etc/resolv.conf` y copia la dirección IP que sigue al término `nameserver` para obtener la dirección IP del equipo host.</span><span class="sxs-lookup"><span data-stu-id="94ef1-123">Obtain the IP address of your host machine by running the command `cat /etc/resolv.conf` and copying the IP address following the term `nameserver`.</span></span> 
- <span data-ttu-id="94ef1-124">Conéctate a cualquier servidor de Windows con la dirección IP copiada.</span><span class="sxs-lookup"><span data-stu-id="94ef1-124">Connect to any Windows server using the copied IP address.</span></span>

<span data-ttu-id="94ef1-125">La imagen siguiente muestra un ejemplo con la conexión a un servidor de Node.js que se ejecuta en Windows a través de curl.</span><span class="sxs-lookup"><span data-stu-id="94ef1-125">The picture below shows an example of this by connecting to a Node.js server running in Windows via curl.</span></span> 

![Acceso a aplicaciones de red de Linux desde Windows](media/wsl2-network-l2w.png)

### <a name="accessing-linux-applications-from-windows"></a><span data-ttu-id="94ef1-127">Acceso a aplicaciones de Linux desde Windows</span><span class="sxs-lookup"><span data-stu-id="94ef1-127">Accessing Linux applications from Windows</span></span>

<span data-ttu-id="94ef1-128">En función de la versión de Windows que utilices, es posible que tengas que recuperar la dirección IP de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="94ef1-128">Depending on which version of Windows you're using, you might need to retrieve the IP address of the virtual machine.</span></span> <span data-ttu-id="94ef1-129">Si tienes la compilación 18945 o posterior, puedes usar `localhost` del modo habitual.</span><span class="sxs-lookup"><span data-stu-id="94ef1-129">If your build is 18945 or higher, you can use `localhost` just like normal.</span></span> 

#### <a name="accessing-linux-on-builds-lower-than-18945"></a><span data-ttu-id="94ef1-130">Acceso a Linux en compilaciones anteriores a [18945](https://blogs.windows.com/windowsexperience/2019/07/26/announcing-windows-10-insider-preview-build-18945/)</span><span class="sxs-lookup"><span data-stu-id="94ef1-130">Accessing Linux on Builds lower than [18945](https://blogs.windows.com/windowsexperience/2019/07/26/announcing-windows-10-insider-preview-build-18945/)</span></span>

<span data-ttu-id="94ef1-131">Si tienes un servidor en una distribución de WSL, deberás encontrar la dirección IP de la máquina virtual que habilita la distribución y conectarla a esta con esa dirección IP.</span><span class="sxs-lookup"><span data-stu-id="94ef1-131">If you have a server in a WSL distro, you'll need to find the IP address of the virtual machine powering your distro and connect to it with that IP address.</span></span> <span data-ttu-id="94ef1-132">Para hacerlo, sigue estos pasos:</span><span class="sxs-lookup"><span data-stu-id="94ef1-132">You can do that by following these steps:</span></span>

- <span data-ttu-id="94ef1-133">Para obtener la dirección IP de la distribución, ejecuta el comando `ip addr` en tu distribución de WSL y búscala bajo el valor `inet` de la interfaz `eth0`.</span><span class="sxs-lookup"><span data-stu-id="94ef1-133">Obtain the IP address of your distro by running the command `ip addr` inside of your WSL distro and finding it under the `inet` value of the `eth0` interface.</span></span>
   - <span data-ttu-id="94ef1-134">Para encontrarla más fácilmente, filtra la salida del comando con grep, como se muestra a continuación: `ip addr | grep eth0`.</span><span class="sxs-lookup"><span data-stu-id="94ef1-134">You can find this more easily by filtering the output of the command using grep like so: `ip addr | grep eth0`.</span></span>
- <span data-ttu-id="94ef1-135">Conéctate al servidor de Linux con la IP que has encontrado.</span><span class="sxs-lookup"><span data-stu-id="94ef1-135">Connect to your Linux server using the IP you found above.</span></span>

<span data-ttu-id="94ef1-136">La imagen siguiente muestra un ejemplo con la conexión a un servidor de Node.js mediante el navegador Edge.</span><span class="sxs-lookup"><span data-stu-id="94ef1-136">The picture below shows an example of this by connecting to a Node.js server using the Edge browser.</span></span>

![Acceso a aplicaciones de red de Linux desde Windows](media/wsl2-network-w2l.jpg)

### <a name="other-networking-considerations"></a><span data-ttu-id="94ef1-138">Otras consideraciones sobre redes</span><span class="sxs-lookup"><span data-stu-id="94ef1-138">Other networking considerations</span></span>

#### <a name="connecting-via-remote-ip-addresses"></a><span data-ttu-id="94ef1-139">Conexión a través de direcciones IP remotas</span><span class="sxs-lookup"><span data-stu-id="94ef1-139">Connecting via remote IP addresses</span></span>

<span data-ttu-id="94ef1-140">Si se usan direcciones IP remotas para conectarse a las aplicaciones, estas se tratarán como conexiones desde la red de área local (LAN).</span><span class="sxs-lookup"><span data-stu-id="94ef1-140">When using remote IP addresses to connect to your applications, they will be treated as connections from the Local Area Network (LAN).</span></span> <span data-ttu-id="94ef1-141">Esto significa que tendrás que asegurarte de que la aplicación puede aceptar conexiones LAN, es decir: Es posible que debas enlazar la aplicación a `0.0.0.0` en lugar de a `127.0.0.1`.</span><span class="sxs-lookup"><span data-stu-id="94ef1-141">This means that you will need to make sure your application can accept LAN connections, i.e: You might need to bind your application to `0.0.0.0` instead of `127.0.0.1`.</span></span> <span data-ttu-id="94ef1-142">Por ejemplo, en Python con Flask, esto se puede hacer con el comando: `app.run(host='0.0.0.0')`.</span><span class="sxs-lookup"><span data-stu-id="94ef1-142">For example in python using flask this can be done with the command: `app.run(host='0.0.0.0')`.</span></span> <span data-ttu-id="94ef1-143">Ten en cuenta la seguridad al realizar estos cambios, ya que se permitirán las conexiones desde la LAN.</span><span class="sxs-lookup"><span data-stu-id="94ef1-143">Please keep security in mind when making these changes, as this will allow connections from your LAN.</span></span> 

#### <a name="accessing-a-wsl2-distro-from-your-local-area-network-lan"></a><span data-ttu-id="94ef1-144">Acceso a la distribución de WSL 2 desde la red de área local (LAN)</span><span class="sxs-lookup"><span data-stu-id="94ef1-144">Accessing a WSL2 distro from your local area network (LAN)</span></span>

<span data-ttu-id="94ef1-145">Cuando se usa un distribución de WSL 1, si el equipo está configurado para ser accesible desde la LAN, también se podrá acceder a las aplicaciones que se ejecuten en WSL en la LAN.</span><span class="sxs-lookup"><span data-stu-id="94ef1-145">When using a WSL1 distro, if your computer was set up to be accessed by in your LAN, then applications run in WSL could be accessed on your LAN as well.</span></span> <span data-ttu-id="94ef1-146">Este no es el caso predeterminado en WSL 2, ya que WSL 2 tiene un adaptador Ethernet virtualizado que es su propia dirección IP.</span><span class="sxs-lookup"><span data-stu-id="94ef1-146">This isn't the default case in WSL2, as WSL2 has a virtualized ethernet adapter with its own IP address.</span></span> <span data-ttu-id="94ef1-147">Actualmente, para habilitar este flujo de trabajo, tendrás que seguir los mismos pasos que para una máquina virtual normal.</span><span class="sxs-lookup"><span data-stu-id="94ef1-147">Currently, to enable this workflow you will need to go through the same steps as you would for a regular virtual machine.</span></span> <span data-ttu-id="94ef1-148">Estamos buscando maneras de mejorar esta experiencia.</span><span class="sxs-lookup"><span data-stu-id="94ef1-148">We are looking into ways to improve this experience!</span></span>

#### <a name="ipv6-access"></a><span data-ttu-id="94ef1-149">Acceso IPv6</span><span class="sxs-lookup"><span data-stu-id="94ef1-149">IPv6 access</span></span>

<span data-ttu-id="94ef1-150">Actualmente, las distribuciones de WSL 2 no pueden acceder a direcciones solo IPv6.</span><span class="sxs-lookup"><span data-stu-id="94ef1-150">WSL2 distros currently cannot reach IPv6 only addresses.</span></span> <span data-ttu-id="94ef1-151">Estamos trabajando para agregar esta característica.</span><span class="sxs-lookup"><span data-stu-id="94ef1-151">We are working on adding this feature.</span></span>

## <a name="understanding-wsl-2-uses-a-vhd-and-what-to-do-if-you-reach-its-max-size"></a><span data-ttu-id="94ef1-152">Descripción del uso de un disco VHD por parte de WSL 2 y procedimiento en caso de alcanzar su tamaño máximo</span><span class="sxs-lookup"><span data-stu-id="94ef1-152">Understanding WSL 2 uses a VHD, and what to do if you reach its max size</span></span>
<span data-ttu-id="94ef1-153">WSL 2 almacena todos los archivos de Linux en un disco VHD que usa el sistema de archivos ext4.</span><span class="sxs-lookup"><span data-stu-id="94ef1-153">WSL 2 stores all your Linux files inside of a VHD that uses the ext4 file system.</span></span> <span data-ttu-id="94ef1-154">Este disco VHD cambia de tamaño automáticamente para satisfacer las necesidades de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="94ef1-154">This VHD automatically resizes to meet your storage needs.</span></span> <span data-ttu-id="94ef1-155">Este disco VHD también tiene un tamaño máximo inicial de 256 GB.</span><span class="sxs-lookup"><span data-stu-id="94ef1-155">This VHD also has an initial max size of 256GB.</span></span> <span data-ttu-id="94ef1-156">Si tu distribución aumenta de tamaño y supera los 256 GB, verás errores que indican que se ha agotado el espacio en disco.</span><span class="sxs-lookup"><span data-stu-id="94ef1-156">If your distro grows in size to be greater than 256GB you will see errors stating that you've run out of disk space.</span></span> <span data-ttu-id="94ef1-157">Para corregirlos puedes ampliar el tamaño del disco VHD.</span><span class="sxs-lookup"><span data-stu-id="94ef1-157">You can fix these by expanding the VHD size.</span></span> <span data-ttu-id="94ef1-158">Las instrucciones sobre cómo hacerlo son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="94ef1-158">Instructions on how to do so are below:</span></span>

1. <span data-ttu-id="94ef1-159">Finaliza todas las instancias de WSL mediante el comando `wsl --shutdown`.</span><span class="sxs-lookup"><span data-stu-id="94ef1-159">Terminate all WSL instances using the `wsl --shutdown` command</span></span>
2. <span data-ttu-id="94ef1-160">Busca el nombre del paquete de instalación de la distribución "PackageFamilyName".</span><span class="sxs-lookup"><span data-stu-id="94ef1-160">Find your distro installation package name 'PackageFamilyName'</span></span>
   - <span data-ttu-id="94ef1-161">En un símbolo del sistema de PowerShell (donde "distro" es el nombre de tu distribución), escribe:</span><span class="sxs-lookup"><span data-stu-id="94ef1-161">In a powershell prompt (where 'distro' is your distribution name) type:</span></span>
      - `Get-AppxPackage -Name "*<distro>*" | Select PackageFamilyName`
3. <span data-ttu-id="94ef1-162">Busca la ruta de acceso completa del archivo VHD que se usa en tu instalación de WSL 2, que será tu "pathToVHD":</span><span class="sxs-lookup"><span data-stu-id="94ef1-162">Locate the VHD file fullpath used by your WSL 2 installation, this will be your 'pathToVHD':</span></span>
     - `%LOCALAPPDATA%\Packages\<PackageFamilyName>\LocalState\<disk>.vhdx`
4. <span data-ttu-id="94ef1-163">Cambia el tamaño del disco VHD de WSL 2 mediante los comandos siguientes.</span><span class="sxs-lookup"><span data-stu-id="94ef1-163">Resize your WSL 2 VHD by completing the following commands</span></span>
   - <span data-ttu-id="94ef1-164">Abre una ventana del símbolo del sistema con privilegios de administrador y ejecuta el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="94ef1-164">Open a command prompt Window with admin privileges and run the following commands:</span></span>
      - `diskpart`
      - `Select vdisk file="<pathToVHD>"`
      - `expand vdisk maximum="<sizeInMegaBytes>"`
5. <span data-ttu-id="94ef1-165">Inicia la distribución de WSL</span><span class="sxs-lookup"><span data-stu-id="94ef1-165">Launch your WSL distro</span></span>
6. <span data-ttu-id="94ef1-166">Indica a WSL que puede expandir el tamaño del sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="94ef1-166">Make WSL aware that it can expand its file system's size</span></span>
   - <span data-ttu-id="94ef1-167">Ejecuta estos comandos en la distribución de WSL:</span><span class="sxs-lookup"><span data-stu-id="94ef1-167">Run these commands in your WSL distro:</span></span>
      - `sudo mount -t devtmpfs none /dev`
      - `mount | grep ext4`
         - <span data-ttu-id="94ef1-168">Copia el nombre de esta entrada, que tendrá el siguiente aspecto: /dev/sdXX (donde la X representa cualquier otro carácter).</span><span class="sxs-lookup"><span data-stu-id="94ef1-168">Copy the name of this entry, which will look like: /dev/sdXX (with the X representing any other character)</span></span>
      - `sudo resize2fs /dev/sdXX`
         - <span data-ttu-id="94ef1-169">Asegúrate de usar el valor que copiaste anteriormente. Es posible que tengas que usar: `apt install resize2fs`.</span><span class="sxs-lookup"><span data-stu-id="94ef1-169">Make sure to use the value you copied earlier, and you may need to use: `apt install resize2fs`.</span></span>

<span data-ttu-id="94ef1-170">Ten en cuenta lo siguiente: En general, no debes modificar ni mover los archivos relacionados con WSL ubicados en la carpeta AppData mediante herramientas o editores de Windows. Tampoco tienes que acceder a estos archivos.</span><span class="sxs-lookup"><span data-stu-id="94ef1-170">Please note: In general do not modify, move, or access the WSL related files located inside of your AppData folder using Windows tools or editors.</span></span> <span data-ttu-id="94ef1-171">Al hacerlo, podrías dañar la distribución de Linux.</span><span class="sxs-lookup"><span data-stu-id="94ef1-171">Doing so could cause your Linux distro to become corrupted.</span></span>

## <a name="wsl-2-will-use-some-memory-on-startup"></a><span data-ttu-id="94ef1-172">WSL 2 usará algo de memoria al iniciarse</span><span class="sxs-lookup"><span data-stu-id="94ef1-172">WSL 2 will use some memory on startup</span></span>
<span data-ttu-id="94ef1-173">WSL 2 usa una VM de utilidad ligera en un kernel de Linux real para ofrecer un excelente rendimiento del sistema de archivos y una compatibilidad completa con las llamadas del sistema, al tiempo que sigue siendo tan ligero, rápido, integrado y dinámico como WSL 1.</span><span class="sxs-lookup"><span data-stu-id="94ef1-173">WSL 2 uses a lightweight utility VM on a real Linux kernel to provide great file system performance and full system call compatibility while still being just as light, fast, integrated and responsive as WSL 1.</span></span> <span data-ttu-id="94ef1-174">Esta VM de utilidad tiene una superficie de memoria pequeña y asignará memoria reservada de direcciones virtuales al iniciarse.</span><span class="sxs-lookup"><span data-stu-id="94ef1-174">This utility VM has a small memory footprint and will allocate Virtual Address backed memory on startup.</span></span> <span data-ttu-id="94ef1-175">Está configurada para empezar con una pequeña proporción de la memoria total.</span><span class="sxs-lookup"><span data-stu-id="94ef1-175">It is configured to start with a small proportion of your total memory.</span></span>

## <a name="cross-os-file-speed-will-be-slower-in-initial-preview-builds"></a><span data-ttu-id="94ef1-176">La velocidad de acceso a archivos entre sistemas operativos será más lenta en las compilaciones iniciales de la versión preliminar</span><span class="sxs-lookup"><span data-stu-id="94ef1-176">Cross OS file speed will be slower in initial preview builds</span></span>
<span data-ttu-id="94ef1-177">Observará velocidades de archivo más lentas en comparación con WSL 1 al acceder a archivos de Windows desde una aplicación de Linux o a archivos de Linux desde una aplicación de Windows.</span><span class="sxs-lookup"><span data-stu-id="94ef1-177">You will notice slower file speeds compared to WSL 1 when accessing Windows files from a Linux application, or accessing Linux files from a Windows application.</span></span> <span data-ttu-id="94ef1-178">Esto se debe a los cambios en la arquitectura de WSL 2 y es algo que el equipo de WSL está investigando activamente para mejorar esta experiencia.</span><span class="sxs-lookup"><span data-stu-id="94ef1-178">This is a result of the architectural changes in WSL 2, and is something that the WSL team is actively investigating on how we can improve this experience.</span></span>
