---
title: Introducción al uso de contenedores de Docker con el subsistema de Windows para Linux
description: Aprenda a configurar contenedores de Docker en el subsistema de Windows para Linux.
keywords: WSL, Windows, windowssubsystem, Windows 10, Docker, contenedores
ms.date: 08/28/2020
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: a972cd6f179059e0841e1aef4bc3929fa46fcc4d
ms.sourcegitcommit: 1c7f2e9928672ad3941a9327162595cb73ef5a3f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/09/2020
ms.locfileid: "89609727"
---
# <a name="get-started-with-docker-remote-containers-on-wsl-2"></a><span data-ttu-id="232e5-104">Introducción a los contenedores remotos de Docker en WSL 2</span><span class="sxs-lookup"><span data-stu-id="232e5-104">Get started with Docker remote containers on WSL 2</span></span>

<span data-ttu-id="232e5-105">Esta guía paso a paso le ayudará a empezar a desarrollar con los contenedores remotos mediante la **configuración de Docker Desktop para Windows con WSL 2** (subsistema de Windows para Linux, versión 2).</span><span class="sxs-lookup"><span data-stu-id="232e5-105">This step-by-step guide will help you get started developing with remote containers by **setting up Docker Desktop for Windows with WSL 2** (Windows Subsystem for Linux, version 2).</span></span>

<span data-ttu-id="232e5-106">Docker Desktop para Windows está disponible de forma gratuita y proporciona un entorno de desarrollo para compilar, enviar y ejecutar aplicaciones de ha aplicado Docker.</span><span class="sxs-lookup"><span data-stu-id="232e5-106">Docker Desktop for Windows is available for free and provides a development environment for building, shipping, and running dockerized apps.</span></span> <span data-ttu-id="232e5-107">Al habilitar el motor basado en WSL 2, puede ejecutar contenedores de Linux y Windows en Docker Desktop en el mismo equipo.</span><span class="sxs-lookup"><span data-stu-id="232e5-107">By enabling the WSL 2 based engine, you can run both Linux and Windows containers in Docker Desktop on the same machine.</span></span>

## <a name="overview-of-docker-containers"></a><span data-ttu-id="232e5-108">Introducción a los contenedores de Docker</span><span class="sxs-lookup"><span data-stu-id="232e5-108">Overview of Docker containers</span></span>

<span data-ttu-id="232e5-109">Docker es una herramienta que se usa para crear, implementar y ejecutar aplicaciones mediante contenedores.</span><span class="sxs-lookup"><span data-stu-id="232e5-109">Docker is a tool used to create, deploy, and run applications using containers.</span></span> <span data-ttu-id="232e5-110">Los contenedores permiten a los desarrolladores empaquetar una aplicación con todas las partes que necesita (bibliotecas, marcos de trabajo, dependencias, etc.) y enviar todo como un paquete.</span><span class="sxs-lookup"><span data-stu-id="232e5-110">Containers enable developers to package an app with all of the parts it needs (libraries, frameworks, dependencies, etc) and ship it all out as one package.</span></span> <span data-ttu-id="232e5-111">El uso de un contenedor garantiza que la aplicación se ejecutará de la misma forma, independientemente de la configuración personalizada o de las bibliotecas instaladas anteriormente en el equipo en el que se ejecute, que podría diferir del equipo que se usó para escribir y probar el código de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="232e5-111">Using a container ensures that the app will run the same regardless of any customized settings or previously installed libraries on the computer running it that could differ from the machine that was used to write and test the app's code.</span></span> <span data-ttu-id="232e5-112">Esto permite a los desarrolladores centrarse en la escritura de código sin preocuparse por el sistema en el que se ejecutará el código.</span><span class="sxs-lookup"><span data-stu-id="232e5-112">This permits developers to focus on writing code without worrying about the system that code will be run on.</span></span>

<span data-ttu-id="232e5-113">Los contenedores de Docker son similares a las máquinas virtuales, pero no crean un sistema operativo virtual completo.</span><span class="sxs-lookup"><span data-stu-id="232e5-113">Docker containers are similar to virtual machines, but don't create an entire virtual operating system.</span></span> <span data-ttu-id="232e5-114">En su lugar, Docker permite a la aplicación usar el mismo kernel de Linux que el sistema en el que se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="232e5-114">Instead, Docker enables the app to use the same Linux kernel as the system that it's running on.</span></span> <span data-ttu-id="232e5-115">Esto permite que el paquete de la aplicación solo requiera partes que aún no existen en el equipo host, lo que reduce el tamaño del paquete y mejora el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="232e5-115">This allows the app package to only require parts not already on the host computer, reducing the package size and improving performance.</span></span>

<span data-ttu-id="232e5-116">La disponibilidad continua, mediante el uso de contenedores de Docker con herramientas como [Kubernetes](https://docs.microsoft.com/azure/aks/), es otro motivo para la popularidad de los contenedores.</span><span class="sxs-lookup"><span data-stu-id="232e5-116">Continuous availability, using Docker containers with tools like [Kubernetes](https://docs.microsoft.com/azure/aks/), is another reason for the popularity of containers.</span></span> <span data-ttu-id="232e5-117">Esto permite crear varias versiones del contenedor de la aplicación en momentos diferentes.</span><span class="sxs-lookup"><span data-stu-id="232e5-117">This enables multiple versions of your app container to be created at different times.</span></span> <span data-ttu-id="232e5-118">En lugar de tener que deshacer todo el sistema para las actualizaciones o el mantenimiento, cada contenedor y sus microservicios específicos se pueden reemplazar sobre la marcha.</span><span class="sxs-lookup"><span data-stu-id="232e5-118">Rather than needing to take down an entire system for updates or maintenance, each container (and it's specific microservices) can be replaced on the fly.</span></span> <span data-ttu-id="232e5-119">Puedes preparar un nuevo contenedor con todas las actualizaciones, configurar el contenedor para producción y simplemente apuntar al nuevo contenedor una vez que esté listo.</span><span class="sxs-lookup"><span data-stu-id="232e5-119">You can prepare a new container with all of your updates, set up the container for production, and just point to the new container once it's ready.</span></span> <span data-ttu-id="232e5-120">También puedes archivar versiones diferentes de la aplicación mediante contenedores y mantenerlas en ejecución como reserva de seguridad si es necesario.</span><span class="sxs-lookup"><span data-stu-id="232e5-120">You can also archive different versions of your app using containers and keep them running as a safety fallback if needed.</span></span>

<span data-ttu-id="232e5-121">Para obtener más información, consulte la [Introducción a los contenedores de Docker](https://docs.microsoft.com/learn/modules/intro-to-docker-containers/) en Microsoft Learn.</span><span class="sxs-lookup"><span data-stu-id="232e5-121">To learn more, checkout the [Introduction to Docker containers](https://docs.microsoft.com/learn/modules/intro-to-docker-containers/) on Microsoft Learn.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="232e5-122">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="232e5-122">Prerequisites</span></span>

- <span data-ttu-id="232e5-123">Asegúrese de que el equipo ejecuta Windows 10, [actualizado a la versión 2004](ms-settings:windowsupdate), **compilación 18362** o posterior.</span><span class="sxs-lookup"><span data-stu-id="232e5-123">Ensure your machine is running Windows 10, [updated to version 2004](ms-settings:windowsupdate), **Build 18362** or higher.</span></span>
- <span data-ttu-id="232e5-124">[Habilite WSL, instale una distribución de Linux y actualice a WSL 2](https://docs.microsoft.com/windows/wsl/install-win10).</span><span class="sxs-lookup"><span data-stu-id="232e5-124">[Enable WSL, install a Linux distribution, and update to WSL 2](https://docs.microsoft.com/windows/wsl/install-win10).</span></span>
- <span data-ttu-id="232e5-125">[Descargue e instale el paquete de actualización del kernel de Linux](https://docs.microsoft.com/windows/wsl/wsl2-kernel).</span><span class="sxs-lookup"><span data-stu-id="232e5-125">[Download and install the Linux kernel update package](https://docs.microsoft.com/windows/wsl/wsl2-kernel).</span></span>
- <span data-ttu-id="232e5-126">[Instale Visual Studio Code](https://code.visualstudio.com/download) *(opcional)*.</span><span class="sxs-lookup"><span data-stu-id="232e5-126">[Install Visual Studio Code](https://code.visualstudio.com/download) *(optional)*.</span></span> <span data-ttu-id="232e5-127">Esto proporcionará la mejor experiencia, incluida la capacidad de codificar y depurar dentro de un contenedor de Docker remoto y conectarse a la distribución de Linux.</span><span class="sxs-lookup"><span data-stu-id="232e5-127">This will provide the best experience, including the ability to code and debug inside a remote Docker container and connected to your Linux distribution.</span></span>
- <span data-ttu-id="232e5-128">[Instale Windows terminal](https://docs.microsoft.com/windows/terminal/get-started) *(opcional)*.</span><span class="sxs-lookup"><span data-stu-id="232e5-128">[Install Windows Terminal](https://docs.microsoft.com/windows/terminal/get-started) *(optional)*.</span></span> <span data-ttu-id="232e5-129">Esto proporcionará la mejor experiencia, incluida la capacidad de personalizar y abrir varios terminales en la misma interfaz (como Ubuntu, Debian, PowerShell, CLI de Azure o cualquier cosa que prefiera usar).</span><span class="sxs-lookup"><span data-stu-id="232e5-129">This will provide the best experience, including the ability to customize and open multiple terminals in the same interface (including Ubuntu, Debian, PowerShell, Azure CLI, or whatever you prefer to use).</span></span>
- <span data-ttu-id="232e5-130">[Regístrese para obtener un ID. de Docker en Docker Hub](https://hub.docker.com/signup) *(opcional)*.</span><span class="sxs-lookup"><span data-stu-id="232e5-130">[Sign up for a Docker ID at Docker Hub](https://hub.docker.com/signup) *(optional)*.</span></span>

> [!NOTE]
> <span data-ttu-id="232e5-131">WSL puede ejecutar distribuciones en el modo WSL versión 1 o WSL 2.</span><span class="sxs-lookup"><span data-stu-id="232e5-131">WSL can run distributions in both WSL version 1 or WSL 2 mode.</span></span> <span data-ttu-id="232e5-132">Para comprobarlo, abra PowerShell y escriba: `wsl -l -v` .</span><span class="sxs-lookup"><span data-stu-id="232e5-132">You can check this by opening PowerShell and entering: `wsl -l -v`.</span></span> <span data-ttu-id="232e5-133">Asegúrese de que la distribución está configurada para usar WSL 2; para ello, escriba: `wsl --set-version  <distro> 2` .</span><span class="sxs-lookup"><span data-stu-id="232e5-133">Ensure that the your distribution is set to use WSL 2 by entering: `wsl --set-version  <distro> 2`.</span></span> <span data-ttu-id="232e5-134">Reemplace `<distro>` por el nombre de distribución (por ejemplo, Ubuntu 18,04).</span><span class="sxs-lookup"><span data-stu-id="232e5-134">Replace `<distro>` with the distro name (e.g. Ubuntu 18.04).</span></span>
> 
> <span data-ttu-id="232e5-135">En la versión 1 de WSL, debido a las diferencias fundamentales entre Windows y Linux, el motor de Docker no se pudo ejecutar directamente dentro de WSL, por lo que el equipo de Docker desarrolló una solución alternativa con máquinas virtuales de Hyper-V y LinuxKit.</span><span class="sxs-lookup"><span data-stu-id="232e5-135">In WSL version 1, due to fundamental differences between Windows and Linux, the Docker Engine couldn't run directly inside WSL, so the Docker team developed an alternative solution using Hyper-V VMs and LinuxKit.</span></span> <span data-ttu-id="232e5-136">Sin embargo, como WSL 2 se ejecuta ahora en un kernel de Linux con capacidad de llamada completa del sistema, Docker puede ejecutarse por completo en WSL 2.</span><span class="sxs-lookup"><span data-stu-id="232e5-136">However, since WSL 2 now runs on a Linux kernel with full system call capacity, Docker can fully run in WSL 2.</span></span> <span data-ttu-id="232e5-137">Esto significa que los contenedores de Linux se pueden ejecutar de forma nativa sin emulación, lo que da como resultado un mejor rendimiento e interoperabilidad entre las herramientas de Windows y Linux.</span><span class="sxs-lookup"><span data-stu-id="232e5-137">This means that Linux containers can run natively without emulation, resulting in better performance and interoperability between your Windows and Linux tools.</span></span>

## <a name="install-docker-desktop"></a><span data-ttu-id="232e5-138">Instalación de Docker Desktop</span><span class="sxs-lookup"><span data-stu-id="232e5-138">Install Docker Desktop</span></span>

<span data-ttu-id="232e5-139">Con el back-end de WSL 2 compatible con Docker Desktop para Windows, puede trabajar en un entorno de desarrollo basado en Linux y compilar contenedores basados en Linux, mientras usa Visual Studio Code para la edición y depuración de código, y para ejecutar el contenedor en el explorador Microsoft Edge en Windows.</span><span class="sxs-lookup"><span data-stu-id="232e5-139">With the WSL 2 backend supported in Docker Desktop for Windows, you can work in a Linux-based development environment and build Linux-based containers, while using Visual Studio Code for code editing and debugging, and running your container in the Microsoft Edge browser on Windows.</span></span>

<span data-ttu-id="232e5-140">Para instalar Docker (después de [instalar WSL 2](https://docs.microsoft.com/windows/wsl/install-win10)):</span><span class="sxs-lookup"><span data-stu-id="232e5-140">To install Docker (after already [installing WSL 2](https://docs.microsoft.com/windows/wsl/install-win10)):</span></span>

1. <span data-ttu-id="232e5-141">Descargue [Docker Desktop](https://docs.docker.com/docker-for-windows/wsl/#download) y siga las instrucciones de instalación.</span><span class="sxs-lookup"><span data-stu-id="232e5-141">Download [Docker Desktop](https://docs.docker.com/docker-for-windows/wsl/#download) and follow the installation instructions.</span></span>

2. <span data-ttu-id="232e5-142">Una vez instalado, inicie Docker Desktop desde el menú Inicio de Windows y, a continuación, seleccione el icono de Docker en el menú iconos ocultos de la barra de tareas.</span><span class="sxs-lookup"><span data-stu-id="232e5-142">Once installed, start Docker Desktop from the Windows Start menu, then select the Docker icon from the hidden icons menu of your taskbar.</span></span> <span data-ttu-id="232e5-143">Haga clic con el botón derecho en el icono para que se muestre el menú de comandos de Docker y seleccione "configuración".</span><span class="sxs-lookup"><span data-stu-id="232e5-143">Right-click the icon to display the Docker commands menu and select "Settings".</span></span>
    <span data-ttu-id="232e5-144">![Icono de panel de escritorio de Docker](../media/docker-starting.png)</span><span class="sxs-lookup"><span data-stu-id="232e5-144">![Docker Desktop dashboard icon](../media/docker-starting.png)</span></span>

3. <span data-ttu-id="232e5-145">Asegúrese de que la opción "usar el motor basado en WSL 2" está activada en la **configuración**  >  **General**.</span><span class="sxs-lookup"><span data-stu-id="232e5-145">Ensure that "Use the WSL 2 based engine" is checked in **Settings** > **General**.</span></span>
    <span data-ttu-id="232e5-146">![Configuración general de Docker Desktop](../media/docker-running.png)</span><span class="sxs-lookup"><span data-stu-id="232e5-146">![Docker Desktop general settings](../media/docker-running.png)</span></span>

4. <span data-ttu-id="232e5-147">Seleccione en las distribuciones instaladas de WSL 2 en las que desea habilitar la integración de Docker; para ello, vaya a: **configuración**  >  **recursos**  >  **WSL integración**.</span><span class="sxs-lookup"><span data-stu-id="232e5-147">Select from your installed WSL 2 distributions which you want to enable Docker integration on by going to: **Settings** > **Resources** > **WSL Integration**.</span></span>
    <span data-ttu-id="232e5-148">![Configuración de recursos de escritorio de Docker](../media/docker-dashboard.png)</span><span class="sxs-lookup"><span data-stu-id="232e5-148">![Docker Desktop resource settings](../media/docker-dashboard.png)</span></span>

5. <span data-ttu-id="232e5-149">Para confirmar que se ha instalado Docker, abra una distribución de WSL (por ejemplo, Ubuntu) y muestre la versión y el número de compilación. para ello, escriba: `docker --version`</span><span class="sxs-lookup"><span data-stu-id="232e5-149">To confirm that Docker has been installed, open a WSL distribution (e.g. Ubuntu) and display the version and build number by entering: `docker --version`</span></span>

6. <span data-ttu-id="232e5-150">Compruebe que la instalación funciona correctamente mediante la ejecución de una imagen de Docker integrada simple mediante: `docker run hello-world`</span><span class="sxs-lookup"><span data-stu-id="232e5-150">Test that your installation works correctly by running a simple built-in Docker image using: `docker run hello-world`</span></span>

> [!TIP]
> <span data-ttu-id="232e5-151">Estos son algunos comandos útiles de Docker que debe conocer:</span><span class="sxs-lookup"><span data-stu-id="232e5-151">Here are a few helpful Docker commands to know:</span></span>
>
> - <span data-ttu-id="232e5-152">Enumerar los comandos disponibles en la CLI de Docker, para lo que debes escribir: `docker`</span><span class="sxs-lookup"><span data-stu-id="232e5-152">List the commands available in the Docker CLI by entering: `docker`</span></span>
> - <span data-ttu-id="232e5-153">Enumerar información de un comando específico con: `docker <COMMAND> --help`</span><span class="sxs-lookup"><span data-stu-id="232e5-153">List information for a specific command with: `docker <COMMAND> --help`</span></span>
> - <span data-ttu-id="232e5-154">Enumerar las imágenes de Docker en el equipo (que es simplemente la imagen de Hola mundo en este momento), con: `docker image ls --all`</span><span class="sxs-lookup"><span data-stu-id="232e5-154">List the docker images on your machine (which is just the hello-world image at this point), with: `docker image ls --all`</span></span>
> - <span data-ttu-id="232e5-155">Enumerar los contenedores del equipo, con: `docker container ls --all` o `docker ps -a` (sin la marca-a mostrar todo, solo se mostrarán los contenedores en ejecución)</span><span class="sxs-lookup"><span data-stu-id="232e5-155">List the containers on your machine, with: `docker container ls --all` or `docker ps -a` (without the -a show all flag, only running containers will be displayed)</span></span>
> - <span data-ttu-id="232e5-156">Muestra información de todo el sistema relacionada con la instalación de Docker, incluidas las estadísticas y los recursos (CPU & memoria) disponibles en el contexto de WSL 2, con: `docker info`</span><span class="sxs-lookup"><span data-stu-id="232e5-156">List system-wide information regarding the Docker installation, including statistics and resources (CPU & memory) available to you in the WSL 2 context, with: `docker info`</span></span>

## <a name="develop-in-remote-containers-using-vs-code"></a><span data-ttu-id="232e5-157">Desarrollo en contenedores remotos con VS Code</span><span class="sxs-lookup"><span data-stu-id="232e5-157">Develop in remote containers using VS Code</span></span>

<span data-ttu-id="232e5-158">Para empezar a desarrollar aplicaciones mediante Docker con WSL 2, se recomienda usar VS Code, junto con la extensión Remote-WSL y la extensión de Docker.</span><span class="sxs-lookup"><span data-stu-id="232e5-158">To get started developing apps using Docker with WSL 2, we recommend using VS Code, along with the Remote-WSL extension and Docker extension.</span></span>

- <span data-ttu-id="232e5-159">[Instale la extensión vs Code Remote-WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl).</span><span class="sxs-lookup"><span data-stu-id="232e5-159">[Install the VS Code Remote-WSL extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl).</span></span> <span data-ttu-id="232e5-160">Esta extensión permite abrir el proyecto de Linux que se ejecuta en WSL en VS Code (no es necesario preocuparse de los problemas relacionados con la acción, la compatibilidad binaria u otros desafíos entre OS).</span><span class="sxs-lookup"><span data-stu-id="232e5-160">This extension enables you to open your Linux project running on WSL in VS Code (no need to worry about pathing issues, binary compatibility, or other cross-OS challenges).</span></span>

- <span data-ttu-id="232e5-161">[Instale la extensión de contenedores remotos de vs Code](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers).</span><span class="sxs-lookup"><span data-stu-id="232e5-161">[Install the VS code Remote-Containers extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers).</span></span> <span data-ttu-id="232e5-162">Esta extensión permite abrir la carpeta del proyecto o el repositorio dentro de un contenedor, aprovechando el conjunto completo de características de Visual Studio Code para realizar el trabajo de desarrollo en el contenedor.</span><span class="sxs-lookup"><span data-stu-id="232e5-162">This extension enables you to open your project folder or repo inside of a container, taking advantage of Visual Studio Code's full feature set to do your development work within the container.</span></span>

- <span data-ttu-id="232e5-163">[Instale la extensión de Docker de vs Code](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker).</span><span class="sxs-lookup"><span data-stu-id="232e5-163">[Install the VS Code Docker extension](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker).</span></span> <span data-ttu-id="232e5-164">Esta extensión agrega la funcionalidad para compilar, administrar e implementar aplicaciones en contenedores desde VS Code.</span><span class="sxs-lookup"><span data-stu-id="232e5-164">This extension adds the functionality to build, manage, and deploy containerized applications from  inside VS Code.</span></span> <span data-ttu-id="232e5-165">(Necesita la extensión de contenedor remoto para usar realmente el contenedor como su entorno de desarrollo).</span><span class="sxs-lookup"><span data-stu-id="232e5-165">(You need the Remote-Container extension to actually use the container as your dev environment.)</span></span>

<span data-ttu-id="232e5-166">Vamos a usar Docker para crear un contenedor de desarrollo para un proyecto de aplicación existente.</span><span class="sxs-lookup"><span data-stu-id="232e5-166">Let's use Docker to create a development container for an existing app project.</span></span>

1. <span data-ttu-id="232e5-167">En este ejemplo, usaré el código fuente del tutorial de [Hola mundo para Django](https://docs.microsoft.com/windows/python/web-frameworks#hello-world-tutorial-for-django) en el entorno de desarrollo de Python configurar docs. Puede omitir este paso si prefiere usar su propio código fuente del proyecto.</span><span class="sxs-lookup"><span data-stu-id="232e5-167">For this example, I'll use the source code from my [Hello World tutorial for Django](https://docs.microsoft.com/windows/python/web-frameworks#hello-world-tutorial-for-django) in the Python development environment set up docs. You can skip this step if you prefer to use your own project source code.</span></span> <span data-ttu-id="232e5-168">Para descargar mi aplicación web HelloWorld-Django desde GitHub, abra un terminal de WSL (por ejemplo, Ubuntu) y escriba: `git clone https://github.com/mattwojo/helloworld-django.git`</span><span class="sxs-lookup"><span data-stu-id="232e5-168">To download my HelloWorld-Django web app from GitHub, open a WSL terminal (Ubuntu for example) and enter: `git clone https://github.com/mattwojo/helloworld-django.git`</span></span>

    > [!NOTE]
    > <span data-ttu-id="232e5-169">Almacene siempre el código en el mismo sistema de archivos en el que está usando las herramientas de.</span><span class="sxs-lookup"><span data-stu-id="232e5-169">Always store your code in the same file system that you're using tools in.</span></span> <span data-ttu-id="232e5-170">Esto dará lugar a un rendimiento de acceso a archivos más rápido.</span><span class="sxs-lookup"><span data-stu-id="232e5-170">This will result in faster file access performance.</span></span> <span data-ttu-id="232e5-171">En este ejemplo, se usa un distribución de Linux (Ubuntu) y se quieren almacenar los archivos de proyecto en el sistema de archivos WSL `\\wsl\` .</span><span class="sxs-lookup"><span data-stu-id="232e5-171">In this example, we are using a Linux distro (Ubuntu) and want to store our project files on the WSL file system `\\wsl\`.</span></span> <span data-ttu-id="232e5-172">El almacenamiento de archivos de proyecto en el sistema de archivos de Windows ralentizaría considerablemente el uso de las herramientas de Linux en WSL para tener acceso a esos archivos.</span><span class="sxs-lookup"><span data-stu-id="232e5-172">Storing project files on the Windows file system would significantly slow things down when using Linux tools in WSL to access those files.</span></span>

2. <span data-ttu-id="232e5-173">En el terminal WSL, cambie los directorios a la carpeta de código fuente de este proyecto:</span><span class="sxs-lookup"><span data-stu-id="232e5-173">From your WSL terminal, change directories to the source code folder for this project:</span></span>

    ```bash
    cd helloworld-django
    ```

3. <span data-ttu-id="232e5-174">Abra el proyecto en VS Code que se ejecuta en el servidor de extensión local-WSL. para ello, escriba:</span><span class="sxs-lookup"><span data-stu-id="232e5-174">Open the project in VS Code running on the local Remote-WSL extension server by entering:</span></span>

    ```bash
    code .
    ```

    <span data-ttu-id="232e5-175">Confirme que está conectado a WSL Linux distribución. para ello, compruebe el indicador remoto verde en la esquina inferior izquierda de la instancia de VS Code.</span><span class="sxs-lookup"><span data-stu-id="232e5-175">Confirm that you are connected to your WSL Linux distro by checking the green remote indicator in the bottom-left corner of your VS Code instance.</span></span>

    ![VS Code indicador remoto de WSL](../media/vscode-remote-indicator.png)

4. <span data-ttu-id="232e5-177">En el comando VS Code paleta (Ctrl + Mayús + P), escriba: **contenedores remotos: abrir carpeta en contenedor...** Si este comando no aparece cuando empieza a escribirlo, asegúrese de que ha instalado la extensión de contenedor remoto vinculada anteriormente.</span><span class="sxs-lookup"><span data-stu-id="232e5-177">From the VS Code command pallette (Ctrl + Shift + P), enter: **Remote-Containers: Open Folder in Container...** If this command doesn't display as you begin to type it, check to ensure that you've installed the Remote Container extension linked above.</span></span>

    ![VS Code comando de contenedor remoto](../media/docker-extension.png)

5. <span data-ttu-id="232e5-179">Seleccione la carpeta del proyecto que desea incluir en el contenedor.</span><span class="sxs-lookup"><span data-stu-id="232e5-179">Select the project folder that you wish to containerize.</span></span> <span data-ttu-id="232e5-180">En mi caso, esto es `\\wsl\Ubuntu-20.04\home\mattwojo\repos\helloworld-django\`</span><span class="sxs-lookup"><span data-stu-id="232e5-180">In my case, this is `\\wsl\Ubuntu-20.04\home\mattwojo\repos\helloworld-django\`</span></span>

    ![VS Code carpeta de contenedores remotos](../media/docker-extension2.png)

6. <span data-ttu-id="232e5-182">Se mostrará una lista de definiciones de contenedor, ya que todavía no hay ninguna configuración de DevContainer en la carpeta del proyecto (repositorio).</span><span class="sxs-lookup"><span data-stu-id="232e5-182">A list of container definitions will appear, since there is no DevContainer configuration in the project folder (repo) yet.</span></span> <span data-ttu-id="232e5-183">La lista de definiciones de configuración de contenedor que aparece se filtra según el tipo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="232e5-183">The list of container configuration definitions that appears is filtered based on your project type.</span></span> <span data-ttu-id="232e5-184">En mi proyecto de Django, seleccionaremos Python 3.</span><span class="sxs-lookup"><span data-stu-id="232e5-184">For my Django project, I'll select Python 3.</span></span>

    ![VS Code definiciones de configuración de contenedor remoto](../media/docker-extension3.png)

7. <span data-ttu-id="232e5-186">Se abrirá una nueva instancia de VS Code, comenzará a compilar la nueva imagen y, una vez completada la compilación, iniciará el contenedor.</span><span class="sxs-lookup"><span data-stu-id="232e5-186">A new instance of VS Code will open, begin building our new image, and once the build completed, will start our container.</span></span> <span data-ttu-id="232e5-187">Verá que aparece una nueva `.devcontainer` carpeta con información de configuración de contenedor en un `Dockerfile` archivo y `devcontainer.json` .</span><span class="sxs-lookup"><span data-stu-id="232e5-187">You will see that a new `.devcontainer` folder has appeared with container configuration information inside a `Dockerfile` and `devcontainer.json` file.</span></span>  

    ![VS Code carpeta. devcontainer](../media/docker-extension4.png)

8. <span data-ttu-id="232e5-189">Para confirmar que el proyecto sigue conectado a WSL y dentro de un contenedor, abra el VS Code terminal integrado (Ctrl + Mayús + ~).</span><span class="sxs-lookup"><span data-stu-id="232e5-189">To confirm that your project is still connected to both WSL and within a container, open the VS Code integrated terminal (Ctrl + Shift + ~).</span></span> <span data-ttu-id="232e5-190">Compruebe el sistema operativo escribiendo: `uname` y la versión de Python con: `python3 --version` .</span><span class="sxs-lookup"><span data-stu-id="232e5-190">Check the operating system by entering: `uname` and the Python version with: `python3 --version`.</span></span> <span data-ttu-id="232e5-191">Puede ver que uname llegó como "Linux", por lo que sigue conectado al motor de WSL 2 y el número de versión de Python se basará en la configuración del contenedor que puede diferir de la versión de Python instalada en la distribución de WSL.</span><span class="sxs-lookup"><span data-stu-id="232e5-191">You can see that the uname came back as "Linux", so you are still connected to the WSL 2 engine, and Python version number will be based on the container config that may differ from the Python version installed on your WSL distribution.</span></span>

9. <span data-ttu-id="232e5-192">Para ejecutar y depurar la aplicación dentro del contenedor mediante Visual Studio Code, primero abra el menú **Ejecutar** (Ctrl + Mayús + D o seleccione la pestaña en la barra de menús de la izquierda).</span><span class="sxs-lookup"><span data-stu-id="232e5-192">To run and debug your app inside of the container using Visual Studio Code, first open the **Run** menu (Ctrl+Shift+D or select the tab on the far left menu bar).</span></span> <span data-ttu-id="232e5-193">A continuación, seleccione **Ejecutar y depurar** para seleccionar una configuración de depuración y elija la configuración que mejor se adapte a su proyecto (en mi ejemplo, será "Django").</span><span class="sxs-lookup"><span data-stu-id="232e5-193">Then select **Run and Debug** to select a debug configuration and choose the configuration that best suites your project (in my example, this will be "Django").</span></span> <span data-ttu-id="232e5-194">Se creará un `launch.json` archivo en la `.vscode` carpeta del proyecto con instrucciones sobre cómo ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="232e5-194">This will create a `launch.json` file in the `.vscode` folder of your project with instructions on how to run your app.</span></span>

    ![VS Code ejecutar la configuración de depuración](../media/vscode-run-config.png)

10. <span data-ttu-id="232e5-196">Desde dentro vs Code, seleccione **Ejecutar**  >  **iniciar depuración** (o simplemente presione la tecla **F5** ).</span><span class="sxs-lookup"><span data-stu-id="232e5-196">From inside VS Code, select **Run** > **Start debugging** (or just press the **F5** key).</span></span> <span data-ttu-id="232e5-197">Se abrirá un terminal dentro de VS Code y verá un resultado que indica algo parecido a: "iniciando el servidor de desarrollo en http://127.0.0.1:8000/ salir del servidor con control-C".</span><span class="sxs-lookup"><span data-stu-id="232e5-197">This will open a terminal inside VS Code and you should see a result saying something like: "Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C."</span></span> <span data-ttu-id="232e5-198">Mantenga presionada la tecla control y seleccione la dirección que se muestra para abrir la aplicación en el explorador Web predeterminado y vea el proyecto que se ejecuta dentro de su contenedor.</span><span class="sxs-lookup"><span data-stu-id="232e5-198">Hold down the Control key and select the address displayed to open your app in your default web browser and see your project running inside of it's container.</span></span>

    ![VS Code de ejecución de un contenedor de Docker](../media/vscode-running-in-container.png)

<span data-ttu-id="232e5-200">Ahora ha configurado correctamente un contenedor de desarrollo remoto mediante Docker Desktop, basado en el back-end de WSL 2, que puede codificar en, compilar, ejecutar, implementar o depurar mediante VS Code.</span><span class="sxs-lookup"><span data-stu-id="232e5-200">You have now successfully configured a remote development container using Docker Desktop, powered by the WSL 2 backend, that you can code in, build, run, deploy, or debug using VS Code!</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="232e5-201">Solución de problemas</span><span class="sxs-lookup"><span data-stu-id="232e5-201">Troubleshooting</span></span>

### <a name="wsl-docker-context-deprecated"></a><span data-ttu-id="232e5-202">Contexto de Docker de WSL desusado</span><span class="sxs-lookup"><span data-stu-id="232e5-202">WSL docker context deprecated</span></span>

<span data-ttu-id="232e5-203">Si usaba una versión preliminar técnica temprana de Docker para WSL, puede tener un contexto de Docker llamado "WSL" que ahora está en desuso y ya no se usa.</span><span class="sxs-lookup"><span data-stu-id="232e5-203">If you were using an  early Tech Preview of Docker for WSL, you may have a Docker context called "wsl" that is now deprecated and no longer used.</span></span> <span data-ttu-id="232e5-204">Puede comprobar con el comando: `docker context ls` .</span><span class="sxs-lookup"><span data-stu-id="232e5-204">You can check with the command: `docker context ls`.</span></span> <span data-ttu-id="232e5-205">Puede quitar este contexto "WSL" para evitar errores con el comando: `docker context rm wsl` como desea usar el contexto predeterminado para Windows y WSL2.</span><span class="sxs-lookup"><span data-stu-id="232e5-205">You can remove this "wsl" context to avoid errors with the command: `docker context rm wsl` as you want to use the default context for both Windows and WSL2.</span></span>

<span data-ttu-id="232e5-206">Entre los posibles errores que se pueden encontrar con este contexto de WSL en desuso se incluyen los siguientes: `docker wsl open //./pipe/docker_wsl: The system cannot find the file specified.` o `error during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_wsl/v1.40/images/json?all=1: open //./pipe/docker_wsl: The system cannot find the file specified.`</span><span class="sxs-lookup"><span data-stu-id="232e5-206">Possible errors you might encounter with this deprecated wsl context include: `docker wsl open //./pipe/docker_wsl: The system cannot find the file specified.` or `error during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_wsl/v1.40/images/json?all=1: open //./pipe/docker_wsl: The system cannot find the file specified.`</span></span>

<span data-ttu-id="232e5-207">Para obtener más información sobre este problema, consulte [configuración de Docker en el sistema Windows para Linux (WSL2) en Windows 10](https://www.hanselman.com/blog/HowToSetUpDockerWithinWindowsSystemForLinuxWSL2OnWindows10.aspx).</span><span class="sxs-lookup"><span data-stu-id="232e5-207">For more on this issue, see [How to set up Docker within Windows System for Linux (WSL2) on Windows 10](https://www.hanselman.com/blog/HowToSetUpDockerWithinWindowsSystemForLinuxWSL2OnWindows10.aspx).</span></span>

### <a name="trouble-finding-docker-image-storage-folder"></a><span data-ttu-id="232e5-208">Problemas al buscar la carpeta de almacenamiento de imágenes de Docker</span><span class="sxs-lookup"><span data-stu-id="232e5-208">Trouble finding docker image storage folder</span></span>

<span data-ttu-id="232e5-209">Docker crea dos carpetas distribución para almacenar los datos:</span><span class="sxs-lookup"><span data-stu-id="232e5-209">Docker creates two distro folders to store data:</span></span>
- <span data-ttu-id="232e5-210">\\WSL $ \docker-Desktop</span><span class="sxs-lookup"><span data-stu-id="232e5-210">\\wsl$\docker-desktop</span></span>
- <span data-ttu-id="232e5-211">\\WSL $ \docker-Desktop-Data</span><span class="sxs-lookup"><span data-stu-id="232e5-211">\\wsl$\docker-desktop-data</span></span>

<span data-ttu-id="232e5-212">Para encontrar estas carpetas, abra la distribución de WSL Linux y escriba: `explorer.exe .` para ver la carpeta en el explorador de archivos de Windows.</span><span class="sxs-lookup"><span data-stu-id="232e5-212">You can find these folders by opening your WSL Linux distribution and entering: `explorer.exe .` to view the folder in Windows File Explorer.</span></span> <span data-ttu-id="232e5-213">Entrar: `\\wsl\<distro name>\mnt\wsl` reemplace `<distro name>` por el nombre de la distribución (es decir, Ubuntu-20,04) para ver estas carpetas.</span><span class="sxs-lookup"><span data-stu-id="232e5-213">Enter: `\\wsl\<distro name>\mnt\wsl` replacing `<distro name>` with the name of your distribution (ie. Ubuntu-20.04) to see these folders.</span></span>

<span data-ttu-id="232e5-214">Obtenga más información sobre la ubicación de las ubicaciones de almacenamiento de Docker en WSL, consulte este [problema desde el repositorio WSL](https://github.com/microsoft/WSL/issues/4176) o esta [publicación StackOverlow](https://stackoverflow.com/questions/62380124/where-docker-image-is-stored-with-docker-desktop-for-windows).</span><span class="sxs-lookup"><span data-stu-id="232e5-214">Find more on locating docker storage locations in WSL, see this [issue from the WSL repo](https://github.com/microsoft/WSL/issues/4176) or this [StackOverlow post](https://stackoverflow.com/questions/62380124/where-docker-image-is-stored-with-docker-desktop-for-windows).</span></span>

<span data-ttu-id="232e5-215">Para obtener más ayuda con los problemas generales de solución de problemas de WSL, consulte el documento de [solución de problemas](../troubleshooting.md) .</span><span class="sxs-lookup"><span data-stu-id="232e5-215">For more help with general troubleshooting issues in WSL, see the [Troubleshooting](../troubleshooting.md) doc.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="232e5-216">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="232e5-216">Additional resources</span></span>

- [<span data-ttu-id="232e5-217">Documentos de Docker: procedimientos recomendados para el escritorio de Docker con WSL 2</span><span class="sxs-lookup"><span data-stu-id="232e5-217">Docker docs: Best practices for Docker Desktop with WSL 2</span></span>](https://docs.docker.com/docker-for-windows/wsl/#best-practices)
- [<span data-ttu-id="232e5-218">Comentarios de Docker Desktop para Windows: archivo de un problema</span><span class="sxs-lookup"><span data-stu-id="232e5-218">Feedback for Docker Desktop for Windows: File an issue</span></span>](https://github.com/docker/for-win/issues)
- [<span data-ttu-id="232e5-219">Blog de VS Code: directrices para elegir un entorno de desarrollo</span><span class="sxs-lookup"><span data-stu-id="232e5-219">VS Code Blog: Guidelines for choosing a development environment</span></span>](https://code.visualstudio.com/docs/containers/choosing-dev-environment#_guidelines-for-choosing-a-development-environment)
- [<span data-ttu-id="232e5-220">Blog de VS Code: uso de Docker en WSL 2</span><span class="sxs-lookup"><span data-stu-id="232e5-220">VS Code Blog: Using Docker in WSL 2</span></span>](https://code.visualstudio.com/blogs/2020/03/02/docker-in-wsl2)
- [<span data-ttu-id="232e5-221">Blog de VS Code: uso de contenedores remotos en WSL 2</span><span class="sxs-lookup"><span data-stu-id="232e5-221">VS Code Blog: Using Remote Containers in WSL 2</span></span>](https://code.visualstudio.com/blogs/2020/07/01/containers-wsl)
- [<span data-ttu-id="232e5-222">Hanselminutes podcast: creación de Docker adorable para desarrolladores con Simon Ferquel</span><span class="sxs-lookup"><span data-stu-id="232e5-222">Hanselminutes Podcast: Making Docker lovely for Developers with Simon Ferquel</span></span>](https://hanselminutes.com/736/making-docker-lovely-for-developers-with-simon-ferquel)